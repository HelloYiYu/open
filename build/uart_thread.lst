ARM GAS  /tmp/cczgDh8z.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"uart_thread.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.__uart_send,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  23              	__uart_send:
  24              	.LVL0:
  25              	.LFB342:
  26              		.file 1 "App/uart_thread.c"
   1:App/uart_thread.c **** #include "uart_thread.h"
   2:App/uart_thread.c **** #include "debug.h"
   3:App/uart_thread.c **** 
   4:App/uart_thread.c **** #define UART_BUFFER_SIZE 128
   5:App/uart_thread.c **** 
   6:App/uart_thread.c **** struct SEND_DATA {
   7:App/uart_thread.c ****     struct list_head node;
   8:App/uart_thread.c **** 
   9:App/uart_thread.c **** 	uint32_t size;
  10:App/uart_thread.c ****     uint8_t *data;
  11:App/uart_thread.c **** };
  12:App/uart_thread.c **** 
  13:App/uart_thread.c **** struct UART_BUFFER {
  14:App/uart_thread.c **** 	UART_HandleTypeDef *p_uart;
  15:App/uart_thread.c **** 
  16:App/uart_thread.c **** 	/* hw rx */
  17:App/uart_thread.c **** 	uint32_t rx_hw_buffer_size;
  18:App/uart_thread.c **** 	uint32_t rx_hw_buffer_idx;
  19:App/uart_thread.c **** 	uint32_t rx_hw_buffer_len;
  20:App/uart_thread.c **** 	uint8_t *rx_hw_buffer[2];
  21:App/uart_thread.c **** 
  22:App/uart_thread.c **** 	/* hw tx */
  23:App/uart_thread.c **** 	uint32_t tx_hw_buffer_size;
  24:App/uart_thread.c **** 	uint8_t *tx_hw_buffer;
  25:App/uart_thread.c **** 	uint32_t is_tx_busy;
  26:App/uart_thread.c **** 
  27:App/uart_thread.c **** 	/* sw rx */
  28:App/uart_thread.c **** 	uint32_t rx_sw_buffer_size;
  29:App/uart_thread.c **** 	uint8_t *rx_sw_buffer;
  30:App/uart_thread.c **** 	uint32_t rx_len;
  31:App/uart_thread.c **** 	uint32_t rx_type;  // 0-to sw rx buffer, 1-to data_handler_func
  32:App/uart_thread.c **** 
ARM GAS  /tmp/cczgDh8z.s 			page 2


  33:App/uart_thread.c **** 	/* sw tx */
  34:App/uart_thread.c **** 	osMutexId tx_list_mtx;
  35:App/uart_thread.c **** 	struct list_head tx_list;
  36:App/uart_thread.c **** 
  37:App/uart_thread.c **** 	/* send and read */
  38:App/uart_thread.c **** 	uint32_t read_status;
  39:App/uart_thread.c **** 	osSemaphoreId sem;
  40:App/uart_thread.c **** 	uint8_t *read_data;
  41:App/uart_thread.c **** 	uint32_t *read_len;
  42:App/uart_thread.c **** 
  43:App/uart_thread.c **** 	data_handler data_handler_func;
  44:App/uart_thread.c **** };
  45:App/uart_thread.c **** static struct UART_BUFFER __uart[4];
  46:App/uart_thread.c **** 
  47:App/uart_thread.c **** 
  48:App/uart_thread.c **** extern osThreadId uart_threadHandle;
  49:App/uart_thread.c **** extern osMutexId uart1_mtxHandle;
  50:App/uart_thread.c **** extern osMutexId uart2_mtxHandle;
  51:App/uart_thread.c **** extern osMutexId uart3_mtxHandle;
  52:App/uart_thread.c **** extern osMutexId uart4_mtxHandle;
  53:App/uart_thread.c **** extern osSemaphoreId uart1_send_semHandle;
  54:App/uart_thread.c **** extern osSemaphoreId uart2_send_semHandle;
  55:App/uart_thread.c **** extern osSemaphoreId uart3_send_semHandle;
  56:App/uart_thread.c **** extern osSemaphoreId uart4_send_semHandle;
  57:App/uart_thread.c **** extern void debug_rx_handler(uint8_t *data, uint32_t len);
  58:App/uart_thread.c **** 
  59:App/uart_thread.c **** 
  60:App/uart_thread.c **** void uart_thread_init(void)
  61:App/uart_thread.c **** {
  62:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
  63:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
  64:App/uart_thread.c **** 	}
  65:App/uart_thread.c **** 
  66:App/uart_thread.c **** 	__uart[0].rx_hw_buffer_size = 256;
  67:App/uart_thread.c **** 	__uart[1].rx_hw_buffer_size = 256;
  68:App/uart_thread.c **** 	__uart[2].rx_hw_buffer_size = 1;
  69:App/uart_thread.c **** 	__uart[3].rx_hw_buffer_size = 1;
  70:App/uart_thread.c **** 
  71:App/uart_thread.c **** 	__uart[0].tx_hw_buffer_size = 256;
  72:App/uart_thread.c **** 	__uart[1].tx_hw_buffer_size = 256;
  73:App/uart_thread.c **** 	__uart[2].tx_hw_buffer_size = 256;
  74:App/uart_thread.c **** 	__uart[3].tx_hw_buffer_size = 256;
  75:App/uart_thread.c **** 
  76:App/uart_thread.c **** 	__uart[0].rx_sw_buffer_size = 256;
  77:App/uart_thread.c **** 	__uart[1].rx_sw_buffer_size = 256;
  78:App/uart_thread.c **** 	__uart[2].rx_sw_buffer_size = 256;
  79:App/uart_thread.c **** 	__uart[3].rx_sw_buffer_size = 256;
  80:App/uart_thread.c **** 
  81:App/uart_thread.c **** 	__uart[0].p_uart = &huart1;
  82:App/uart_thread.c **** 	__uart[1].p_uart = &huart2;
  83:App/uart_thread.c **** 	__uart[2].p_uart = &huart3;
  84:App/uart_thread.c **** 	__uart[3].p_uart = &huart4;
  85:App/uart_thread.c **** 
  86:App/uart_thread.c **** 	__uart[2].rx_type = 1;
  87:App/uart_thread.c **** 	__uart[3].rx_type = 1;
  88:App/uart_thread.c **** 
  89:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
ARM GAS  /tmp/cczgDh8z.s 			page 3


  90:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
  91:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[0] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
  92:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[1] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
  93:App/uart_thread.c **** 		}
  94:App/uart_thread.c **** 		if (__uart[i].tx_hw_buffer_size > 0) {
  95:App/uart_thread.c **** 			__uart[i].tx_hw_buffer = pvPortMalloc(__uart[i].tx_hw_buffer_size);
  96:App/uart_thread.c **** 		}
  97:App/uart_thread.c **** 		if (__uart[i].rx_sw_buffer_size > 0) {
  98:App/uart_thread.c **** 			__uart[i].rx_sw_buffer = pvPortMalloc(__uart[i].rx_sw_buffer_size);
  99:App/uart_thread.c **** 		}
 100:App/uart_thread.c **** 		init_list_head(&__uart[i].tx_list);
 101:App/uart_thread.c **** 	}
 102:App/uart_thread.c **** }
 103:App/uart_thread.c **** 
 104:App/uart_thread.c **** static void __uart_send(struct UART_BUFFER *uart, uint8_t *data, uint32_t len)
 105:App/uart_thread.c **** {
  27              		.loc 1 105 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		.loc 1 105 1 is_stmt 0 view .LVU1
  32 0000 70B5     		push	{r4, r5, r6, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 4, -16
  36              		.cfi_offset 5, -12
  37              		.cfi_offset 6, -8
  38              		.cfi_offset 14, -4
  39 0002 0600     		movs	r6, r0
  40 0004 1500     		movs	r5, r2
 106:App/uart_thread.c **** 	struct SEND_DATA *send_data_item;
  41              		.loc 1 106 2 is_stmt 1 view .LVU2
 107:App/uart_thread.c **** 
 108:App/uart_thread.c **** 	send_data_item = (struct SEND_DATA *)pvPortMalloc(sizeof(struct SEND_DATA));
  42              		.loc 1 108 2 view .LVU3
  43              		.loc 1 108 39 is_stmt 0 view .LVU4
  44 0006 1020     		movs	r0, #16
  45              	.LVL1:
  46              		.loc 1 108 39 view .LVU5
  47 0008 FFF7FEFF 		bl	pvPortMalloc
  48              	.LVL2:
  49              		.loc 1 108 39 view .LVU6
  50 000c 041E     		subs	r4, r0, #0
  51              	.LVL3:
 109:App/uart_thread.c **** 	if (!send_data_item)
  52              		.loc 1 109 2 is_stmt 1 view .LVU7
  53              		.loc 1 109 5 is_stmt 0 view .LVU8
  54 000e 20D0     		beq	.L1
 110:App/uart_thread.c **** 		return;
 111:App/uart_thread.c **** 
 112:App/uart_thread.c **** 	if (len > uart->tx_hw_buffer_size) {
  55              		.loc 1 112 2 is_stmt 1 view .LVU9
  56              		.loc 1 112 5 is_stmt 0 view .LVU10
  57 0010 B369     		ldr	r3, [r6, #24]
  58 0012 AB42     		cmp	r3, r5
  59 0014 1ED2     		bcs	.L3
 113:App/uart_thread.c **** 		send_data_item->size = len > uart->tx_hw_buffer_size;
ARM GAS  /tmp/cczgDh8z.s 			page 4


  60              		.loc 1 113 3 is_stmt 1 view .LVU11
  61              		.loc 1 113 24 is_stmt 0 view .LVU12
  62 0016 0123     		movs	r3, #1
  63 0018 8360     		str	r3, [r0, #8]
  64              	.L4:
 114:App/uart_thread.c **** 	} else {
 115:App/uart_thread.c **** 		send_data_item->size = len;
 116:App/uart_thread.c **** 	}
 117:App/uart_thread.c **** 
 118:App/uart_thread.c **** 	send_data_item->data = (uint8_t *)pvPortMalloc(send_data_item->size);
  65              		.loc 1 118 2 is_stmt 1 view .LVU13
  66              		.loc 1 118 36 is_stmt 0 view .LVU14
  67 001a A068     		ldr	r0, [r4, #8]
  68              	.LVL4:
  69              		.loc 1 118 36 view .LVU15
  70 001c FFF7FEFF 		bl	pvPortMalloc
  71              	.LVL5:
  72              		.loc 1 118 23 view .LVU16
  73 0020 E060     		str	r0, [r4, #12]
 119:App/uart_thread.c **** 	if (!send_data_item->data) {
  74              		.loc 1 119 2 is_stmt 1 view .LVU17
  75              		.loc 1 119 5 is_stmt 0 view .LVU18
  76 0022 0028     		cmp	r0, #0
  77 0024 18D0     		beq	.L6
 120:App/uart_thread.c **** 		vPortFree(send_data_item);
 121:App/uart_thread.c **** 		return;
 122:App/uart_thread.c **** 	}
 123:App/uart_thread.c **** 
 124:App/uart_thread.c **** 	osMutexWait(uart->tx_list_mtx, osWaitForever);
  78              		.loc 1 124 2 is_stmt 1 view .LVU19
  79 0026 0121     		movs	r1, #1
  80 0028 4942     		rsbs	r1, r1, #0
  81 002a 706B     		ldr	r0, [r6, #52]
  82 002c FFF7FEFF 		bl	osMutexWait
  83              	.LVL6:
 125:App/uart_thread.c **** 	list_add_tail(&send_data_item->node, &uart->tx_list);
  84              		.loc 1 125 2 view .LVU20
  85 0030 3200     		movs	r2, r6
  86 0032 3832     		adds	r2, r2, #56
  87              	.LVL7:
  88              	.LBB35:
  89              	.LBI35:
  90              		.file 2 "App/Include/my_list.h"
   1:App/Include/my_list.h **** #ifndef __MY_LIST_H__
   2:App/Include/my_list.h **** #define __MY_LIST_H__
   3:App/Include/my_list.h **** 
   4:App/Include/my_list.h **** 
   5:App/Include/my_list.h **** struct list_head {
   6:App/Include/my_list.h ****     struct list_head *next, *prev;
   7:App/Include/my_list.h **** };
   8:App/Include/my_list.h **** 
   9:App/Include/my_list.h **** #ifndef offsetof
  10:App/Include/my_list.h **** #define offsetof(TYPE, MEMBER) ((size_t) &((TYPE *)0)->MEMBER)
  11:App/Include/my_list.h **** #endif
  12:App/Include/my_list.h **** 
  13:App/Include/my_list.h **** #define container_of(ptr, type, member) ({                    \
  14:App/Include/my_list.h ****     const typeof( ((type *)0)->member ) *__mptr = (ptr);      \
ARM GAS  /tmp/cczgDh8z.s 			page 5


  15:App/Include/my_list.h ****     (type *)( (char *)__mptr - offsetof(type,member) );       \
  16:App/Include/my_list.h **** })
  17:App/Include/my_list.h **** 
  18:App/Include/my_list.h **** #define list_entry(ptr, type, member)                         \
  19:App/Include/my_list.h ****     container_of(ptr, type, member)
  20:App/Include/my_list.h **** 
  21:App/Include/my_list.h **** #define list_first_entry(ptr, type, member)                   \
  22:App/Include/my_list.h ****     list_entry((ptr)->next, type, member)
  23:App/Include/my_list.h **** 
  24:App/Include/my_list.h **** #define list_entry_is_head(pos, head, member)                 \
  25:App/Include/my_list.h ****     list_is_head(&pos->member, (head))
  26:App/Include/my_list.h **** 
  27:App/Include/my_list.h **** #define list_for_each_entry(pos, head, member)                \
  28:App/Include/my_list.h ****     for (pos = list_first_entry(head, typeof(*pos), member);  \
  29:App/Include/my_list.h ****          !list_entry_is_head(pos, head, member);              \
  30:App/Include/my_list.h ****          pos = list_next_entry(pos, member))
  31:App/Include/my_list.h **** 
  32:App/Include/my_list.h **** #define list_for_each_entry_safe(pos, n, head, member)        \
  33:App/Include/my_list.h ****     for (pos = list_first_entry(head, typeof(*pos), member),  \
  34:App/Include/my_list.h ****             n = list_next_entry(pos, member);                 \
  35:App/Include/my_list.h ****         &pos->member != (head);                               \
  36:App/Include/my_list.h **** 	pos = n, n = list_next_entry(n, member))
  37:App/Include/my_list.h **** 
  38:App/Include/my_list.h **** #define list_next_entry(pos, member) \
  39:App/Include/my_list.h **** 	list_entry((pos)->member.next, typeof(*(pos)), member)
  40:App/Include/my_list.h **** 
  41:App/Include/my_list.h **** static inline void __list_add(struct list_head *new,
  42:App/Include/my_list.h ****                   struct list_head *prev,
  43:App/Include/my_list.h ****                   struct list_head *next)
  44:App/Include/my_list.h **** {
  45:App/Include/my_list.h ****     next->prev = new;
  46:App/Include/my_list.h ****     new->next = next;
  47:App/Include/my_list.h ****     new->prev = prev;
  48:App/Include/my_list.h ****     prev->next = new;
  49:App/Include/my_list.h **** }
  50:App/Include/my_list.h **** 
  51:App/Include/my_list.h **** static inline void __list_del(struct list_head * prev, struct list_head * next)
  52:App/Include/my_list.h **** {
  53:App/Include/my_list.h ****     next->prev = prev;
  54:App/Include/my_list.h ****     prev->next = next;
  55:App/Include/my_list.h **** }
  56:App/Include/my_list.h **** 
  57:App/Include/my_list.h **** static inline void __list_del_entry(struct list_head *entry)
  58:App/Include/my_list.h **** {
  59:App/Include/my_list.h ****     __list_del(entry->prev, entry->next);
  60:App/Include/my_list.h **** }
  61:App/Include/my_list.h **** 
  62:App/Include/my_list.h **** static inline void __list_splice(const struct list_head *list,
  63:App/Include/my_list.h **** 				struct list_head *prev,
  64:App/Include/my_list.h **** 				struct list_head *next)
  65:App/Include/my_list.h **** {
  66:App/Include/my_list.h **** 	struct list_head *first = list->next;
  67:App/Include/my_list.h **** 	struct list_head *last = list->prev;
  68:App/Include/my_list.h **** 
  69:App/Include/my_list.h **** 	first->prev = prev;
  70:App/Include/my_list.h **** 	prev->next = first;
  71:App/Include/my_list.h **** 
ARM GAS  /tmp/cczgDh8z.s 			page 6


  72:App/Include/my_list.h **** 	last->next = next;
  73:App/Include/my_list.h **** 	next->prev = last;
  74:App/Include/my_list.h **** }
  75:App/Include/my_list.h **** 
  76:App/Include/my_list.h **** static inline void init_list_head(struct list_head *list)
  77:App/Include/my_list.h **** {
  78:App/Include/my_list.h ****     list->next = list;
  79:App/Include/my_list.h ****     list->prev = list;
  80:App/Include/my_list.h **** }
  81:App/Include/my_list.h **** 
  82:App/Include/my_list.h **** static inline void list_add(struct list_head *new, struct list_head *head)
  83:App/Include/my_list.h **** {
  84:App/Include/my_list.h ****     __list_add(new, head, head->next);
  85:App/Include/my_list.h **** }
  86:App/Include/my_list.h **** 
  87:App/Include/my_list.h **** static inline void list_add_tail(struct list_head *new, struct list_head *head)
  91              		.loc 2 87 20 view .LVU21
  92              	.LBB36:
  88:App/Include/my_list.h **** {
  89:App/Include/my_list.h ****     __list_add(new, head->prev, head);
  93              		.loc 2 89 5 view .LVU22
  94 0034 F36B     		ldr	r3, [r6, #60]
  95              	.LVL8:
  96              	.LBB37:
  97              	.LBI37:
  41:App/Include/my_list.h ****                   struct list_head *prev,
  98              		.loc 2 41 20 view .LVU23
  99              	.LBB38:
  45:App/Include/my_list.h ****     new->next = next;
 100              		.loc 2 45 5 view .LVU24
  45:App/Include/my_list.h ****     new->next = next;
 101              		.loc 2 45 16 is_stmt 0 view .LVU25
 102 0036 F463     		str	r4, [r6, #60]
  46:App/Include/my_list.h ****     new->prev = prev;
 103              		.loc 2 46 5 is_stmt 1 view .LVU26
  46:App/Include/my_list.h ****     new->prev = prev;
 104              		.loc 2 46 15 is_stmt 0 view .LVU27
 105 0038 2260     		str	r2, [r4]
  47:App/Include/my_list.h ****     prev->next = new;
 106              		.loc 2 47 5 is_stmt 1 view .LVU28
  47:App/Include/my_list.h ****     prev->next = new;
 107              		.loc 2 47 15 is_stmt 0 view .LVU29
 108 003a 6360     		str	r3, [r4, #4]
  48:App/Include/my_list.h **** }
 109              		.loc 2 48 5 is_stmt 1 view .LVU30
  48:App/Include/my_list.h **** }
 110              		.loc 2 48 16 is_stmt 0 view .LVU31
 111 003c 1C60     		str	r4, [r3]
 112              	.LVL9:
  48:App/Include/my_list.h **** }
 113              		.loc 2 48 16 view .LVU32
 114              	.LBE38:
 115              	.LBE37:
 116              	.LBE36:
 117              	.LBE35:
 126:App/uart_thread.c **** 	osMutexRelease(uart->tx_list_mtx);
 118              		.loc 1 126 2 is_stmt 1 view .LVU33
ARM GAS  /tmp/cczgDh8z.s 			page 7


 119 003e 706B     		ldr	r0, [r6, #52]
 120 0040 FFF7FEFF 		bl	osMutexRelease
 121              	.LVL10:
 127:App/uart_thread.c **** 
 128:App/uart_thread.c **** 	xTaskNotifyGive(uart_threadHandle);
 122              		.loc 1 128 2 view .LVU34
 123 0044 064B     		ldr	r3, .L7
 124 0046 1868     		ldr	r0, [r3]
 125 0048 0023     		movs	r3, #0
 126 004a 0222     		movs	r2, #2
 127 004c 0021     		movs	r1, #0
 128 004e FFF7FEFF 		bl	xTaskGenericNotify
 129              	.LVL11:
 130              	.L1:
 129:App/uart_thread.c **** }
 131              		.loc 1 129 1 is_stmt 0 view .LVU35
 132              		@ sp needed
 133              	.LVL12:
 134              	.LVL13:
 135              	.LVL14:
 136              		.loc 1 129 1 view .LVU36
 137 0052 70BD     		pop	{r4, r5, r6, pc}
 138              	.LVL15:
 139              	.L3:
 115:App/uart_thread.c **** 	}
 140              		.loc 1 115 3 is_stmt 1 view .LVU37
 115:App/uart_thread.c **** 	}
 141              		.loc 1 115 24 is_stmt 0 view .LVU38
 142 0054 8560     		str	r5, [r0, #8]
 143 0056 E0E7     		b	.L4
 144              	.LVL16:
 145              	.L6:
 120:App/uart_thread.c **** 		return;
 146              		.loc 1 120 3 is_stmt 1 view .LVU39
 147 0058 2000     		movs	r0, r4
 148 005a FFF7FEFF 		bl	vPortFree
 149              	.LVL17:
 121:App/uart_thread.c **** 	}
 150              		.loc 1 121 3 view .LVU40
 151 005e F8E7     		b	.L1
 152              	.L8:
 153              		.align	2
 154              	.L7:
 155 0060 00000000 		.word	uart_threadHandle
 156              		.cfi_endproc
 157              	.LFE342:
 159              		.section	.text.__uart_send_and_read,"ax",%progbits
 160              		.align	1
 161              		.syntax unified
 162              		.code	16
 163              		.thumb_func
 165              	__uart_send_and_read:
 166              	.LVL18:
 167              	.LFB343:
 130:App/uart_thread.c **** 
 131:App/uart_thread.c **** static uint32_t __uart_send_and_read(struct UART_BUFFER *uart,
 132:App/uart_thread.c **** 						uint8_t *send_data, uint32_t send_len,
ARM GAS  /tmp/cczgDh8z.s 			page 8


 133:App/uart_thread.c **** 						uint8_t *read_data, uint32_t *read_len,
 134:App/uart_thread.c **** 						TickType_t timeout)
 135:App/uart_thread.c **** {
 168              		.loc 1 135 1 view -0
 169              		.cfi_startproc
 170              		@ args = 8, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172              		.loc 1 135 1 is_stmt 0 view .LVU42
 173 0000 10B5     		push	{r4, lr}
 174              	.LCFI1:
 175              		.cfi_def_cfa_offset 8
 176              		.cfi_offset 4, -8
 177              		.cfi_offset 14, -4
 178 0002 0400     		movs	r4, r0
 136:App/uart_thread.c **** 	uart->read_status = 1;
 179              		.loc 1 136 2 is_stmt 1 view .LVU43
 180              		.loc 1 136 20 is_stmt 0 view .LVU44
 181 0004 0120     		movs	r0, #1
 182              	.LVL19:
 183              		.loc 1 136 20 view .LVU45
 184 0006 2064     		str	r0, [r4, #64]
 137:App/uart_thread.c **** 	uart->read_data = read_data;
 185              		.loc 1 137 2 is_stmt 1 view .LVU46
 186              		.loc 1 137 18 is_stmt 0 view .LVU47
 187 0008 A364     		str	r3, [r4, #72]
 138:App/uart_thread.c **** 	uart->read_len = read_len;
 188              		.loc 1 138 2 is_stmt 1 view .LVU48
 189              		.loc 1 138 17 is_stmt 0 view .LVU49
 190 000a 029B     		ldr	r3, [sp, #8]
 191              	.LVL20:
 192              		.loc 1 138 17 view .LVU50
 193 000c E364     		str	r3, [r4, #76]
 139:App/uart_thread.c **** 	__uart_send(uart, send_data, send_len);
 194              		.loc 1 139 2 is_stmt 1 view .LVU51
 195 000e 2000     		movs	r0, r4
 196 0010 FFF7FEFF 		bl	__uart_send
 197              	.LVL21:
 140:App/uart_thread.c **** 	xSemaphoreTake(uart->sem, timeout);
 198              		.loc 1 140 2 view .LVU52
 199 0014 0399     		ldr	r1, [sp, #12]
 200 0016 606C     		ldr	r0, [r4, #68]
 201 0018 FFF7FEFF 		bl	xQueueSemaphoreTake
 202              	.LVL22:
 141:App/uart_thread.c **** 
 142:App/uart_thread.c **** 	return uart->read_status;
 203              		.loc 1 142 2 view .LVU53
 204              		.loc 1 142 13 is_stmt 0 view .LVU54
 205 001c 206C     		ldr	r0, [r4, #64]
 143:App/uart_thread.c **** }
 206              		.loc 1 143 1 view .LVU55
 207              		@ sp needed
 208              	.LVL23:
 209              		.loc 1 143 1 view .LVU56
 210 001e 10BD     		pop	{r4, pc}
 211              		.cfi_endproc
 212              	.LFE343:
 214              		.section	.text.uart_thread_init,"ax",%progbits
ARM GAS  /tmp/cczgDh8z.s 			page 9


 215              		.align	1
 216              		.global	uart_thread_init
 217              		.syntax unified
 218              		.code	16
 219              		.thumb_func
 221              	uart_thread_init:
 222              	.LFB341:
  61:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
 223              		.loc 1 61 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227 0000 70B5     		push	{r4, r5, r6, lr}
 228              	.LCFI2:
 229              		.cfi_def_cfa_offset 16
 230              		.cfi_offset 4, -16
 231              		.cfi_offset 5, -12
 232              		.cfi_offset 6, -8
 233              		.cfi_offset 14, -4
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 234              		.loc 1 62 2 view .LVU58
 235              	.LBB39:
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 236              		.loc 1 62 7 view .LVU59
 237              	.LVL24:
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 238              		.loc 1 62 11 is_stmt 0 view .LVU60
 239 0002 0024     		movs	r4, #0
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 240              		.loc 1 62 2 view .LVU61
 241 0004 08E0     		b	.L11
 242              	.LVL25:
 243              	.L12:
  63:App/uart_thread.c **** 	}
 244              		.loc 1 63 3 is_stmt 1 discriminator 3 view .LVU62
  63:App/uart_thread.c **** 	}
 245              		.loc 1 63 10 is_stmt 0 discriminator 3 view .LVU63
 246 0006 5420     		movs	r0, #84
 247 0008 6043     		muls	r0, r4
 248 000a 364B     		ldr	r3, .L21
 249 000c C018     		adds	r0, r0, r3
  63:App/uart_thread.c **** 	}
 250              		.loc 1 63 3 discriminator 3 view .LVU64
 251 000e 5422     		movs	r2, #84
 252 0010 0021     		movs	r1, #0
 253 0012 FFF7FEFF 		bl	memset
 254              	.LVL26:
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 255              		.loc 1 62 25 is_stmt 1 discriminator 3 view .LVU65
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 256              		.loc 1 62 26 is_stmt 0 discriminator 3 view .LVU66
 257 0016 0134     		adds	r4, r4, #1
 258              	.LVL27:
 259              	.L11:
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
 260              		.loc 1 62 18 is_stmt 1 discriminator 1 view .LVU67
  62:App/uart_thread.c **** 		memset(&__uart[i], 0, sizeof(struct UART_BUFFER));
ARM GAS  /tmp/cczgDh8z.s 			page 10


 261              		.loc 1 62 2 is_stmt 0 discriminator 1 view .LVU68
 262 0018 032C     		cmp	r4, #3
 263 001a F4DD     		ble	.L12
 264              	.LBE39:
  66:App/uart_thread.c **** 	__uart[1].rx_hw_buffer_size = 256;
 265              		.loc 1 66 2 is_stmt 1 view .LVU69
  66:App/uart_thread.c **** 	__uart[1].rx_hw_buffer_size = 256;
 266              		.loc 1 66 30 is_stmt 0 view .LVU70
 267 001c 314B     		ldr	r3, .L21
 268 001e 8022     		movs	r2, #128
 269 0020 5200     		lsls	r2, r2, #1
 270 0022 5A60     		str	r2, [r3, #4]
  67:App/uart_thread.c **** 	__uart[2].rx_hw_buffer_size = 1;
 271              		.loc 1 67 2 is_stmt 1 view .LVU71
  67:App/uart_thread.c **** 	__uart[2].rx_hw_buffer_size = 1;
 272              		.loc 1 67 30 is_stmt 0 view .LVU72
 273 0024 9A65     		str	r2, [r3, #88]
  68:App/uart_thread.c **** 	__uart[3].rx_hw_buffer_size = 1;
 274              		.loc 1 68 2 is_stmt 1 view .LVU73
  68:App/uart_thread.c **** 	__uart[3].rx_hw_buffer_size = 1;
 275              		.loc 1 68 30 is_stmt 0 view .LVU74
 276 0026 0121     		movs	r1, #1
 277 0028 AC20     		movs	r0, #172
 278 002a 1950     		str	r1, [r3, r0]
  69:App/uart_thread.c **** 
 279              		.loc 1 69 2 is_stmt 1 view .LVU75
  69:App/uart_thread.c **** 
 280              		.loc 1 69 30 is_stmt 0 view .LVU76
 281 002c 9950     		str	r1, [r3, r2]
  71:App/uart_thread.c **** 	__uart[1].tx_hw_buffer_size = 256;
 282              		.loc 1 71 2 is_stmt 1 view .LVU77
  71:App/uart_thread.c **** 	__uart[1].tx_hw_buffer_size = 256;
 283              		.loc 1 71 30 is_stmt 0 view .LVU78
 284 002e 9A61     		str	r2, [r3, #24]
  72:App/uart_thread.c **** 	__uart[2].tx_hw_buffer_size = 256;
 285              		.loc 1 72 2 is_stmt 1 view .LVU79
  72:App/uart_thread.c **** 	__uart[2].tx_hw_buffer_size = 256;
 286              		.loc 1 72 30 is_stmt 0 view .LVU80
 287 0030 DA66     		str	r2, [r3, #108]
  73:App/uart_thread.c **** 	__uart[3].tx_hw_buffer_size = 256;
 288              		.loc 1 73 2 is_stmt 1 view .LVU81
  73:App/uart_thread.c **** 	__uart[3].tx_hw_buffer_size = 256;
 289              		.loc 1 73 30 is_stmt 0 view .LVU82
 290 0032 1430     		adds	r0, r0, #20
 291 0034 1A50     		str	r2, [r3, r0]
  74:App/uart_thread.c **** 
 292              		.loc 1 74 2 is_stmt 1 view .LVU83
  74:App/uart_thread.c **** 
 293              		.loc 1 74 30 is_stmt 0 view .LVU84
 294 0036 5430     		adds	r0, r0, #84
 295 0038 1A50     		str	r2, [r3, r0]
  76:App/uart_thread.c **** 	__uart[1].rx_sw_buffer_size = 256;
 296              		.loc 1 76 2 is_stmt 1 view .LVU85
  76:App/uart_thread.c **** 	__uart[1].rx_sw_buffer_size = 256;
 297              		.loc 1 76 30 is_stmt 0 view .LVU86
 298 003a 5A62     		str	r2, [r3, #36]
  77:App/uart_thread.c **** 	__uart[2].rx_sw_buffer_size = 256;
ARM GAS  /tmp/cczgDh8z.s 			page 11


 299              		.loc 1 77 2 is_stmt 1 view .LVU87
  77:App/uart_thread.c **** 	__uart[2].rx_sw_buffer_size = 256;
 300              		.loc 1 77 30 is_stmt 0 view .LVU88
 301 003c 9A67     		str	r2, [r3, #120]
  78:App/uart_thread.c **** 	__uart[3].rx_sw_buffer_size = 256;
 302              		.loc 1 78 2 is_stmt 1 view .LVU89
  78:App/uart_thread.c **** 	__uart[3].rx_sw_buffer_size = 256;
 303              		.loc 1 78 30 is_stmt 0 view .LVU90
 304 003e 4838     		subs	r0, r0, #72
 305 0040 1A50     		str	r2, [r3, r0]
  79:App/uart_thread.c **** 
 306              		.loc 1 79 2 is_stmt 1 view .LVU91
  79:App/uart_thread.c **** 
 307              		.loc 1 79 30 is_stmt 0 view .LVU92
 308 0042 5430     		adds	r0, r0, #84
 309 0044 1A50     		str	r2, [r3, r0]
  81:App/uart_thread.c **** 	__uart[1].p_uart = &huart2;
 310              		.loc 1 81 2 is_stmt 1 view .LVU93
  81:App/uart_thread.c **** 	__uart[1].p_uart = &huart2;
 311              		.loc 1 81 19 is_stmt 0 view .LVU94
 312 0046 284A     		ldr	r2, .L21+4
 313 0048 1A60     		str	r2, [r3]
  82:App/uart_thread.c **** 	__uart[2].p_uart = &huart3;
 314              		.loc 1 82 2 is_stmt 1 view .LVU95
  82:App/uart_thread.c **** 	__uart[2].p_uart = &huart3;
 315              		.loc 1 82 19 is_stmt 0 view .LVU96
 316 004a 284A     		ldr	r2, .L21+8
 317 004c 5A65     		str	r2, [r3, #84]
  83:App/uart_thread.c **** 	__uart[3].p_uart = &huart4;
 318              		.loc 1 83 2 is_stmt 1 view .LVU97
  83:App/uart_thread.c **** 	__uart[3].p_uart = &huart4;
 319              		.loc 1 83 19 is_stmt 0 view .LVU98
 320 004e A822     		movs	r2, #168
 321 0050 2748     		ldr	r0, .L21+12
 322 0052 9850     		str	r0, [r3, r2]
  84:App/uart_thread.c **** 
 323              		.loc 1 84 2 is_stmt 1 view .LVU99
  84:App/uart_thread.c **** 
 324              		.loc 1 84 19 is_stmt 0 view .LVU100
 325 0054 5432     		adds	r2, r2, #84
 326 0056 2748     		ldr	r0, .L21+16
 327 0058 9850     		str	r0, [r3, r2]
  86:App/uart_thread.c **** 	__uart[3].rx_type = 1;
 328              		.loc 1 86 2 is_stmt 1 view .LVU101
  86:App/uart_thread.c **** 	__uart[3].rx_type = 1;
 329              		.loc 1 86 20 is_stmt 0 view .LVU102
 330 005a 243A     		subs	r2, r2, #36
 331 005c 9950     		str	r1, [r3, r2]
  87:App/uart_thread.c **** 
 332              		.loc 1 87 2 is_stmt 1 view .LVU103
  87:App/uart_thread.c **** 
 333              		.loc 1 87 20 is_stmt 0 view .LVU104
 334 005e 5432     		adds	r2, r2, #84
 335 0060 9950     		str	r1, [r3, r2]
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 336              		.loc 1 89 2 is_stmt 1 view .LVU105
 337              	.LBB40:
ARM GAS  /tmp/cczgDh8z.s 			page 12


  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 338              		.loc 1 89 7 view .LVU106
 339              	.LVL28:
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 340              		.loc 1 89 11 is_stmt 0 view .LVU107
 341 0062 0024     		movs	r4, #0
 342              	.LVL29:
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 343              		.loc 1 89 2 view .LVU108
 344 0064 1DE0     		b	.L13
 345              	.LVL30:
 346              	.L19:
  91:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[1] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
 347              		.loc 1 91 4 is_stmt 1 view .LVU109
  91:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[1] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
 348              		.loc 1 91 32 is_stmt 0 view .LVU110
 349 0066 FFF7FEFF 		bl	pvPortMalloc
 350              	.LVL31:
  91:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[1] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
 351              		.loc 1 91 30 view .LVU111
 352 006a 5423     		movs	r3, #84
 353 006c 6343     		muls	r3, r4
 354 006e 1D4D     		ldr	r5, .L21
 355 0070 ED18     		adds	r5, r5, r3
 356 0072 2861     		str	r0, [r5, #16]
  92:App/uart_thread.c **** 		}
 357              		.loc 1 92 4 is_stmt 1 view .LVU112
  92:App/uart_thread.c **** 		}
 358              		.loc 1 92 32 is_stmt 0 view .LVU113
 359 0074 6868     		ldr	r0, [r5, #4]
 360 0076 FFF7FEFF 		bl	pvPortMalloc
 361              	.LVL32:
  92:App/uart_thread.c **** 		}
 362              		.loc 1 92 30 view .LVU114
 363 007a 6861     		str	r0, [r5, #20]
 364 007c 1AE0     		b	.L14
 365              	.L20:
  95:App/uart_thread.c **** 		}
 366              		.loc 1 95 4 is_stmt 1 view .LVU115
  95:App/uart_thread.c **** 		}
 367              		.loc 1 95 29 is_stmt 0 view .LVU116
 368 007e FFF7FEFF 		bl	pvPortMalloc
 369              	.LVL33:
  95:App/uart_thread.c **** 		}
 370              		.loc 1 95 27 view .LVU117
 371 0082 5422     		movs	r2, #84
 372 0084 6243     		muls	r2, r4
 373 0086 174B     		ldr	r3, .L21
 374 0088 9B18     		adds	r3, r3, r2
 375 008a D861     		str	r0, [r3, #28]
 376 008c 19E0     		b	.L15
 377              	.L16:
 100:App/uart_thread.c **** 	}
 378              		.loc 1 100 3 is_stmt 1 discriminator 2 view .LVU118
 379 008e 5421     		movs	r1, #84
 380 0090 6143     		muls	r1, r4
 381 0092 0A00     		movs	r2, r1
ARM GAS  /tmp/cczgDh8z.s 			page 13


 382 0094 3832     		adds	r2, r2, #56
 383 0096 134B     		ldr	r3, .L21
 384 0098 D218     		adds	r2, r2, r3
 385              	.LVL34:
 386              	.LBB41:
 387              	.LBI41:
  76:App/Include/my_list.h **** {
 388              		.loc 2 76 20 discriminator 2 view .LVU119
 389              	.LBB42:
  78:App/Include/my_list.h ****     list->prev = list;
 390              		.loc 2 78 5 discriminator 2 view .LVU120
  78:App/Include/my_list.h ****     list->prev = list;
 391              		.loc 2 78 16 is_stmt 0 discriminator 2 view .LVU121
 392 009a 5B18     		adds	r3, r3, r1
 393 009c 9A63     		str	r2, [r3, #56]
  79:App/Include/my_list.h **** }
 394              		.loc 2 79 5 is_stmt 1 discriminator 2 view .LVU122
  79:App/Include/my_list.h **** }
 395              		.loc 2 79 16 is_stmt 0 discriminator 2 view .LVU123
 396 009e DA63     		str	r2, [r3, #60]
 397              	.LVL35:
  79:App/Include/my_list.h **** }
 398              		.loc 2 79 16 discriminator 2 view .LVU124
 399              	.LBE42:
 400              	.LBE41:
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 401              		.loc 1 89 25 is_stmt 1 discriminator 2 view .LVU125
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 402              		.loc 1 89 26 is_stmt 0 discriminator 2 view .LVU126
 403 00a0 0134     		adds	r4, r4, #1
 404              	.LVL36:
 405              	.L13:
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 406              		.loc 1 89 18 is_stmt 1 discriminator 1 view .LVU127
  89:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size > 0) {
 407              		.loc 1 89 2 is_stmt 0 discriminator 1 view .LVU128
 408 00a2 032C     		cmp	r4, #3
 409 00a4 1CDC     		bgt	.L18
  90:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[0] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
 410              		.loc 1 90 3 is_stmt 1 view .LVU129
  90:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[0] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
 411              		.loc 1 90 16 is_stmt 0 view .LVU130
 412 00a6 5422     		movs	r2, #84
 413 00a8 6243     		muls	r2, r4
 414 00aa 0E4B     		ldr	r3, .L21
 415 00ac 9B18     		adds	r3, r3, r2
 416 00ae 5868     		ldr	r0, [r3, #4]
  90:App/uart_thread.c **** 			__uart[i].rx_hw_buffer[0] = pvPortMalloc(__uart[i].rx_hw_buffer_size);
 417              		.loc 1 90 6 view .LVU131
 418 00b0 0028     		cmp	r0, #0
 419 00b2 D8D1     		bne	.L19
 420              	.L14:
  94:App/uart_thread.c **** 			__uart[i].tx_hw_buffer = pvPortMalloc(__uart[i].tx_hw_buffer_size);
 421              		.loc 1 94 3 is_stmt 1 view .LVU132
  94:App/uart_thread.c **** 			__uart[i].tx_hw_buffer = pvPortMalloc(__uart[i].tx_hw_buffer_size);
 422              		.loc 1 94 16 is_stmt 0 view .LVU133
 423 00b4 5422     		movs	r2, #84
ARM GAS  /tmp/cczgDh8z.s 			page 14


 424 00b6 6243     		muls	r2, r4
 425 00b8 0A4B     		ldr	r3, .L21
 426 00ba 9B18     		adds	r3, r3, r2
 427 00bc 9869     		ldr	r0, [r3, #24]
  94:App/uart_thread.c **** 			__uart[i].tx_hw_buffer = pvPortMalloc(__uart[i].tx_hw_buffer_size);
 428              		.loc 1 94 6 view .LVU134
 429 00be 0028     		cmp	r0, #0
 430 00c0 DDD1     		bne	.L20
 431              	.L15:
  97:App/uart_thread.c **** 			__uart[i].rx_sw_buffer = pvPortMalloc(__uart[i].rx_sw_buffer_size);
 432              		.loc 1 97 3 is_stmt 1 view .LVU135
  97:App/uart_thread.c **** 			__uart[i].rx_sw_buffer = pvPortMalloc(__uart[i].rx_sw_buffer_size);
 433              		.loc 1 97 16 is_stmt 0 view .LVU136
 434 00c2 5422     		movs	r2, #84
 435 00c4 6243     		muls	r2, r4
 436 00c6 074B     		ldr	r3, .L21
 437 00c8 9B18     		adds	r3, r3, r2
 438 00ca 586A     		ldr	r0, [r3, #36]
  97:App/uart_thread.c **** 			__uart[i].rx_sw_buffer = pvPortMalloc(__uart[i].rx_sw_buffer_size);
 439              		.loc 1 97 6 view .LVU137
 440 00cc 0028     		cmp	r0, #0
 441 00ce DED0     		beq	.L16
  98:App/uart_thread.c **** 		}
 442              		.loc 1 98 4 is_stmt 1 view .LVU138
  98:App/uart_thread.c **** 		}
 443              		.loc 1 98 29 is_stmt 0 view .LVU139
 444 00d0 FFF7FEFF 		bl	pvPortMalloc
 445              	.LVL37:
  98:App/uart_thread.c **** 		}
 446              		.loc 1 98 27 view .LVU140
 447 00d4 5422     		movs	r2, #84
 448 00d6 6243     		muls	r2, r4
 449 00d8 024B     		ldr	r3, .L21
 450 00da 9B18     		adds	r3, r3, r2
 451 00dc 9862     		str	r0, [r3, #40]
 452 00de D6E7     		b	.L16
 453              	.L18:
  98:App/uart_thread.c **** 		}
 454              		.loc 1 98 27 view .LVU141
 455              	.LBE40:
 102:App/uart_thread.c **** 
 456              		.loc 1 102 1 view .LVU142
 457              		@ sp needed
 458              	.LVL38:
 102:App/uart_thread.c **** 
 459              		.loc 1 102 1 view .LVU143
 460 00e0 70BD     		pop	{r4, r5, r6, pc}
 461              	.L22:
 462 00e2 C046     		.align	2
 463              	.L21:
 464 00e4 00000000 		.word	__uart
 465 00e8 00000000 		.word	huart1
 466 00ec 00000000 		.word	huart2
 467 00f0 00000000 		.word	huart3
 468 00f4 00000000 		.word	huart4
 469              		.cfi_endproc
 470              	.LFE341:
ARM GAS  /tmp/cczgDh8z.s 			page 15


 472              		.section	.text.uart1_send,"ax",%progbits
 473              		.align	1
 474              		.global	uart1_send
 475              		.syntax unified
 476              		.code	16
 477              		.thumb_func
 479              	uart1_send:
 480              	.LVL39:
 481              	.LFB344:
 144:App/uart_thread.c **** 
 145:App/uart_thread.c **** void uart1_send(uint8_t *data, uint32_t len) { __uart_send(&__uart[0], data, len); }
 482              		.loc 1 145 46 is_stmt 1 view -0
 483              		.cfi_startproc
 484              		@ args = 0, pretend = 0, frame = 0
 485              		@ frame_needed = 0, uses_anonymous_args = 0
 486              		.loc 1 145 46 is_stmt 0 view .LVU145
 487 0000 10B5     		push	{r4, lr}
 488              	.LCFI3:
 489              		.cfi_def_cfa_offset 8
 490              		.cfi_offset 4, -8
 491              		.cfi_offset 14, -4
 492 0002 0A00     		movs	r2, r1
 493              		.loc 1 145 48 is_stmt 1 view .LVU146
 494 0004 0100     		movs	r1, r0
 495              	.LVL40:
 496              		.loc 1 145 48 is_stmt 0 view .LVU147
 497 0006 0248     		ldr	r0, .L24
 498              	.LVL41:
 499              		.loc 1 145 48 view .LVU148
 500 0008 FFF7FEFF 		bl	__uart_send
 501              	.LVL42:
 502              		.loc 1 145 84 view .LVU149
 503              		@ sp needed
 504 000c 10BD     		pop	{r4, pc}
 505              	.L25:
 506 000e C046     		.align	2
 507              	.L24:
 508 0010 00000000 		.word	__uart
 509              		.cfi_endproc
 510              	.LFE344:
 512              		.section	.text.uart2_send,"ax",%progbits
 513              		.align	1
 514              		.global	uart2_send
 515              		.syntax unified
 516              		.code	16
 517              		.thumb_func
 519              	uart2_send:
 520              	.LVL43:
 521              	.LFB345:
 146:App/uart_thread.c **** void uart2_send(uint8_t *data, uint32_t len) { __uart_send(&__uart[1], data, len); }
 522              		.loc 1 146 46 is_stmt 1 view -0
 523              		.cfi_startproc
 524              		@ args = 0, pretend = 0, frame = 0
 525              		@ frame_needed = 0, uses_anonymous_args = 0
 526              		.loc 1 146 46 is_stmt 0 view .LVU151
 527 0000 10B5     		push	{r4, lr}
 528              	.LCFI4:
ARM GAS  /tmp/cczgDh8z.s 			page 16


 529              		.cfi_def_cfa_offset 8
 530              		.cfi_offset 4, -8
 531              		.cfi_offset 14, -4
 532 0002 0A00     		movs	r2, r1
 533              		.loc 1 146 48 is_stmt 1 view .LVU152
 534 0004 0100     		movs	r1, r0
 535              	.LVL44:
 536              		.loc 1 146 48 is_stmt 0 view .LVU153
 537 0006 0248     		ldr	r0, .L27
 538              	.LVL45:
 539              		.loc 1 146 48 view .LVU154
 540 0008 FFF7FEFF 		bl	__uart_send
 541              	.LVL46:
 542              		.loc 1 146 84 view .LVU155
 543              		@ sp needed
 544 000c 10BD     		pop	{r4, pc}
 545              	.L28:
 546 000e C046     		.align	2
 547              	.L27:
 548 0010 54000000 		.word	__uart+84
 549              		.cfi_endproc
 550              	.LFE345:
 552              		.section	.text.uart3_send,"ax",%progbits
 553              		.align	1
 554              		.global	uart3_send
 555              		.syntax unified
 556              		.code	16
 557              		.thumb_func
 559              	uart3_send:
 560              	.LVL47:
 561              	.LFB346:
 147:App/uart_thread.c **** void uart3_send(uint8_t *data, uint32_t len) { __uart_send(&__uart[2], data, len); }
 562              		.loc 1 147 46 is_stmt 1 view -0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		.loc 1 147 46 is_stmt 0 view .LVU157
 567 0000 10B5     		push	{r4, lr}
 568              	.LCFI5:
 569              		.cfi_def_cfa_offset 8
 570              		.cfi_offset 4, -8
 571              		.cfi_offset 14, -4
 572 0002 0A00     		movs	r2, r1
 573              		.loc 1 147 48 is_stmt 1 view .LVU158
 574 0004 0100     		movs	r1, r0
 575              	.LVL48:
 576              		.loc 1 147 48 is_stmt 0 view .LVU159
 577 0006 0248     		ldr	r0, .L30
 578              	.LVL49:
 579              		.loc 1 147 48 view .LVU160
 580 0008 FFF7FEFF 		bl	__uart_send
 581              	.LVL50:
 582              		.loc 1 147 84 view .LVU161
 583              		@ sp needed
 584 000c 10BD     		pop	{r4, pc}
 585              	.L31:
 586 000e C046     		.align	2
ARM GAS  /tmp/cczgDh8z.s 			page 17


 587              	.L30:
 588 0010 A8000000 		.word	__uart+168
 589              		.cfi_endproc
 590              	.LFE346:
 592              		.section	.text.uart4_send,"ax",%progbits
 593              		.align	1
 594              		.global	uart4_send
 595              		.syntax unified
 596              		.code	16
 597              		.thumb_func
 599              	uart4_send:
 600              	.LVL51:
 601              	.LFB347:
 148:App/uart_thread.c **** void uart4_send(uint8_t *data, uint32_t len) { __uart_send(&__uart[3], data, len); }
 602              		.loc 1 148 46 is_stmt 1 view -0
 603              		.cfi_startproc
 604              		@ args = 0, pretend = 0, frame = 0
 605              		@ frame_needed = 0, uses_anonymous_args = 0
 606              		.loc 1 148 46 is_stmt 0 view .LVU163
 607 0000 10B5     		push	{r4, lr}
 608              	.LCFI6:
 609              		.cfi_def_cfa_offset 8
 610              		.cfi_offset 4, -8
 611              		.cfi_offset 14, -4
 612 0002 0A00     		movs	r2, r1
 613              		.loc 1 148 48 is_stmt 1 view .LVU164
 614 0004 0100     		movs	r1, r0
 615              	.LVL52:
 616              		.loc 1 148 48 is_stmt 0 view .LVU165
 617 0006 0248     		ldr	r0, .L33
 618              	.LVL53:
 619              		.loc 1 148 48 view .LVU166
 620 0008 FFF7FEFF 		bl	__uart_send
 621              	.LVL54:
 622              		.loc 1 148 84 view .LVU167
 623              		@ sp needed
 624 000c 10BD     		pop	{r4, pc}
 625              	.L34:
 626 000e C046     		.align	2
 627              	.L33:
 628 0010 FC000000 		.word	__uart+252
 629              		.cfi_endproc
 630              	.LFE347:
 632              		.section	.text.uart1_send_and_read,"ax",%progbits
 633              		.align	1
 634              		.global	uart1_send_and_read
 635              		.syntax unified
 636              		.code	16
 637              		.thumb_func
 639              	uart1_send_and_read:
 640              	.LVL55:
 641              	.LFB348:
 149:App/uart_thread.c **** 
 150:App/uart_thread.c **** /* return: 0-read success, 1-read timeout */
 151:App/uart_thread.c **** uint32_t uart1_send_and_read(uint8_t *send_data, uint32_t send_len, uint8_t *read_data, uint32_t *r
 152:App/uart_thread.c **** { return __uart_send_and_read(&__uart[0], send_data, send_len, read_data, read_len, timeout); }
 642              		.loc 1 152 1 is_stmt 1 view -0
ARM GAS  /tmp/cczgDh8z.s 			page 18


 643              		.cfi_startproc
 644              		@ args = 4, pretend = 0, frame = 0
 645              		@ frame_needed = 0, uses_anonymous_args = 0
 646              		.loc 1 152 1 is_stmt 0 view .LVU169
 647 0000 10B5     		push	{r4, lr}
 648              	.LCFI7:
 649              		.cfi_def_cfa_offset 8
 650              		.cfi_offset 4, -8
 651              		.cfi_offset 14, -4
 652 0002 82B0     		sub	sp, sp, #8
 653              	.LCFI8:
 654              		.cfi_def_cfa_offset 16
 655              		.loc 1 152 3 is_stmt 1 view .LVU170
 656              		.loc 1 152 10 is_stmt 0 view .LVU171
 657 0004 049C     		ldr	r4, [sp, #16]
 658 0006 0194     		str	r4, [sp, #4]
 659 0008 0093     		str	r3, [sp]
 660 000a 1300     		movs	r3, r2
 661              	.LVL56:
 662              		.loc 1 152 10 view .LVU172
 663 000c 0A00     		movs	r2, r1
 664              	.LVL57:
 665              		.loc 1 152 10 view .LVU173
 666 000e 0100     		movs	r1, r0
 667              	.LVL58:
 668              		.loc 1 152 10 view .LVU174
 669 0010 0248     		ldr	r0, .L36
 670              	.LVL59:
 671              		.loc 1 152 10 view .LVU175
 672 0012 FFF7FEFF 		bl	__uart_send_and_read
 673              	.LVL60:
 674              		.loc 1 152 95 view .LVU176
 675 0016 02B0     		add	sp, sp, #8
 676              		@ sp needed
 677 0018 10BD     		pop	{r4, pc}
 678              	.L37:
 679 001a C046     		.align	2
 680              	.L36:
 681 001c 00000000 		.word	__uart
 682              		.cfi_endproc
 683              	.LFE348:
 685              		.section	.text.uart2_send_and_read,"ax",%progbits
 686              		.align	1
 687              		.global	uart2_send_and_read
 688              		.syntax unified
 689              		.code	16
 690              		.thumb_func
 692              	uart2_send_and_read:
 693              	.LVL61:
 694              	.LFB349:
 153:App/uart_thread.c **** uint32_t uart2_send_and_read(uint8_t *send_data, uint32_t send_len, uint8_t *read_data, uint32_t *r
 154:App/uart_thread.c **** { return __uart_send_and_read(&__uart[1], send_data, send_len, read_data, read_len, timeout); }
 695              		.loc 1 154 1 is_stmt 1 view -0
 696              		.cfi_startproc
 697              		@ args = 4, pretend = 0, frame = 0
 698              		@ frame_needed = 0, uses_anonymous_args = 0
 699              		.loc 1 154 1 is_stmt 0 view .LVU178
ARM GAS  /tmp/cczgDh8z.s 			page 19


 700 0000 10B5     		push	{r4, lr}
 701              	.LCFI9:
 702              		.cfi_def_cfa_offset 8
 703              		.cfi_offset 4, -8
 704              		.cfi_offset 14, -4
 705 0002 82B0     		sub	sp, sp, #8
 706              	.LCFI10:
 707              		.cfi_def_cfa_offset 16
 708              		.loc 1 154 3 is_stmt 1 view .LVU179
 709              		.loc 1 154 10 is_stmt 0 view .LVU180
 710 0004 049C     		ldr	r4, [sp, #16]
 711 0006 0194     		str	r4, [sp, #4]
 712 0008 0093     		str	r3, [sp]
 713 000a 1300     		movs	r3, r2
 714              	.LVL62:
 715              		.loc 1 154 10 view .LVU181
 716 000c 0A00     		movs	r2, r1
 717              	.LVL63:
 718              		.loc 1 154 10 view .LVU182
 719 000e 0100     		movs	r1, r0
 720              	.LVL64:
 721              		.loc 1 154 10 view .LVU183
 722 0010 0248     		ldr	r0, .L39
 723              	.LVL65:
 724              		.loc 1 154 10 view .LVU184
 725 0012 FFF7FEFF 		bl	__uart_send_and_read
 726              	.LVL66:
 727              		.loc 1 154 95 view .LVU185
 728 0016 02B0     		add	sp, sp, #8
 729              		@ sp needed
 730 0018 10BD     		pop	{r4, pc}
 731              	.L40:
 732 001a C046     		.align	2
 733              	.L39:
 734 001c 54000000 		.word	__uart+84
 735              		.cfi_endproc
 736              	.LFE349:
 738              		.section	.text.uart3_send_and_read,"ax",%progbits
 739              		.align	1
 740              		.global	uart3_send_and_read
 741              		.syntax unified
 742              		.code	16
 743              		.thumb_func
 745              	uart3_send_and_read:
 746              	.LVL67:
 747              	.LFB350:
 155:App/uart_thread.c **** uint32_t uart3_send_and_read(uint8_t *send_data, uint32_t send_len, uint8_t *read_data, uint32_t *r
 156:App/uart_thread.c **** { return __uart_send_and_read(&__uart[2], send_data, send_len, read_data, read_len, timeout); }
 748              		.loc 1 156 1 is_stmt 1 view -0
 749              		.cfi_startproc
 750              		@ args = 4, pretend = 0, frame = 0
 751              		@ frame_needed = 0, uses_anonymous_args = 0
 752              		.loc 1 156 1 is_stmt 0 view .LVU187
 753 0000 10B5     		push	{r4, lr}
 754              	.LCFI11:
 755              		.cfi_def_cfa_offset 8
 756              		.cfi_offset 4, -8
ARM GAS  /tmp/cczgDh8z.s 			page 20


 757              		.cfi_offset 14, -4
 758 0002 82B0     		sub	sp, sp, #8
 759              	.LCFI12:
 760              		.cfi_def_cfa_offset 16
 761              		.loc 1 156 3 is_stmt 1 view .LVU188
 762              		.loc 1 156 10 is_stmt 0 view .LVU189
 763 0004 049C     		ldr	r4, [sp, #16]
 764 0006 0194     		str	r4, [sp, #4]
 765 0008 0093     		str	r3, [sp]
 766 000a 1300     		movs	r3, r2
 767              	.LVL68:
 768              		.loc 1 156 10 view .LVU190
 769 000c 0A00     		movs	r2, r1
 770              	.LVL69:
 771              		.loc 1 156 10 view .LVU191
 772 000e 0100     		movs	r1, r0
 773              	.LVL70:
 774              		.loc 1 156 10 view .LVU192
 775 0010 0248     		ldr	r0, .L42
 776              	.LVL71:
 777              		.loc 1 156 10 view .LVU193
 778 0012 FFF7FEFF 		bl	__uart_send_and_read
 779              	.LVL72:
 780              		.loc 1 156 95 view .LVU194
 781 0016 02B0     		add	sp, sp, #8
 782              		@ sp needed
 783 0018 10BD     		pop	{r4, pc}
 784              	.L43:
 785 001a C046     		.align	2
 786              	.L42:
 787 001c A8000000 		.word	__uart+168
 788              		.cfi_endproc
 789              	.LFE350:
 791              		.section	.text.uart4_send_and_read,"ax",%progbits
 792              		.align	1
 793              		.global	uart4_send_and_read
 794              		.syntax unified
 795              		.code	16
 796              		.thumb_func
 798              	uart4_send_and_read:
 799              	.LVL73:
 800              	.LFB351:
 157:App/uart_thread.c **** uint32_t uart4_send_and_read(uint8_t *send_data, uint32_t send_len, uint8_t *read_data, uint32_t *r
 158:App/uart_thread.c **** { return __uart_send_and_read(&__uart[3], send_data, send_len, read_data, read_len, timeout); }
 801              		.loc 1 158 1 is_stmt 1 view -0
 802              		.cfi_startproc
 803              		@ args = 4, pretend = 0, frame = 0
 804              		@ frame_needed = 0, uses_anonymous_args = 0
 805              		.loc 1 158 1 is_stmt 0 view .LVU196
 806 0000 10B5     		push	{r4, lr}
 807              	.LCFI13:
 808              		.cfi_def_cfa_offset 8
 809              		.cfi_offset 4, -8
 810              		.cfi_offset 14, -4
 811 0002 82B0     		sub	sp, sp, #8
 812              	.LCFI14:
 813              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cczgDh8z.s 			page 21


 814              		.loc 1 158 3 is_stmt 1 view .LVU197
 815              		.loc 1 158 10 is_stmt 0 view .LVU198
 816 0004 049C     		ldr	r4, [sp, #16]
 817 0006 0194     		str	r4, [sp, #4]
 818 0008 0093     		str	r3, [sp]
 819 000a 1300     		movs	r3, r2
 820              	.LVL74:
 821              		.loc 1 158 10 view .LVU199
 822 000c 0A00     		movs	r2, r1
 823              	.LVL75:
 824              		.loc 1 158 10 view .LVU200
 825 000e 0100     		movs	r1, r0
 826              	.LVL76:
 827              		.loc 1 158 10 view .LVU201
 828 0010 0248     		ldr	r0, .L45
 829              	.LVL77:
 830              		.loc 1 158 10 view .LVU202
 831 0012 FFF7FEFF 		bl	__uart_send_and_read
 832              	.LVL78:
 833              		.loc 1 158 95 view .LVU203
 834 0016 02B0     		add	sp, sp, #8
 835              		@ sp needed
 836 0018 10BD     		pop	{r4, pc}
 837              	.L46:
 838 001a C046     		.align	2
 839              	.L45:
 840 001c FC000000 		.word	__uart+252
 841              		.cfi_endproc
 842              	.LFE351:
 844              		.section	.text.register_data_handler,"ax",%progbits
 845              		.align	1
 846              		.global	register_data_handler
 847              		.syntax unified
 848              		.code	16
 849              		.thumb_func
 851              	register_data_handler:
 852              	.LVL79:
 853              	.LFB352:
 159:App/uart_thread.c **** 
 160:App/uart_thread.c **** void register_data_handler(UART_HandleTypeDef *p_uart, data_handler func)
 161:App/uart_thread.c **** {
 854              		.loc 1 161 1 is_stmt 1 view -0
 855              		.cfi_startproc
 856              		@ args = 0, pretend = 0, frame = 0
 857              		@ frame_needed = 0, uses_anonymous_args = 0
 858              		.loc 1 161 1 is_stmt 0 view .LVU205
 859 0000 10B5     		push	{r4, lr}
 860              	.LCFI15:
 861              		.cfi_def_cfa_offset 8
 862              		.cfi_offset 4, -8
 863              		.cfi_offset 14, -4
 162:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
 864              		.loc 1 162 2 is_stmt 1 view .LVU206
 865              	.LBB43:
 866              		.loc 1 162 7 view .LVU207
 867              	.LVL80:
 868              		.loc 1 162 11 is_stmt 0 view .LVU208
ARM GAS  /tmp/cczgDh8z.s 			page 22


 869 0002 0023     		movs	r3, #0
 870              	.LVL81:
 871              	.L48:
 872              		.loc 1 162 18 is_stmt 1 discriminator 1 view .LVU209
 873              		.loc 1 162 2 is_stmt 0 discriminator 1 view .LVU210
 874 0004 032B     		cmp	r3, #3
 875 0006 0CDC     		bgt	.L47
 163:App/uart_thread.c **** 		if (__uart[i].p_uart != p_uart)
 876              		.loc 1 163 3 is_stmt 1 view .LVU211
 877              		.loc 1 163 16 is_stmt 0 view .LVU212
 878 0008 5422     		movs	r2, #84
 879 000a 5A43     		muls	r2, r3
 880 000c 054C     		ldr	r4, .L52
 881 000e 1259     		ldr	r2, [r2, r4]
 882              		.loc 1 163 6 view .LVU213
 883 0010 8242     		cmp	r2, r0
 884 0012 01D0     		beq	.L49
 164:App/uart_thread.c **** 			continue;
 885              		.loc 1 164 4 is_stmt 1 view .LVU214
 162:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
 886              		.loc 1 162 25 view .LVU215
 162:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
 887              		.loc 1 162 26 is_stmt 0 view .LVU216
 888 0014 0133     		adds	r3, r3, #1
 889              	.LVL82:
 162:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
 890              		.loc 1 162 26 view .LVU217
 891 0016 F5E7     		b	.L48
 892              	.L49:
 165:App/uart_thread.c **** 
 166:App/uart_thread.c **** 		__uart[i].data_handler_func = func;
 893              		.loc 1 166 3 is_stmt 1 view .LVU218
 894              		.loc 1 166 31 is_stmt 0 view .LVU219
 895 0018 5422     		movs	r2, #84
 896 001a 5A43     		muls	r2, r3
 897 001c 014B     		ldr	r3, .L52
 898              	.LVL83:
 899              		.loc 1 166 31 view .LVU220
 900 001e 9B18     		adds	r3, r3, r2
 901 0020 1965     		str	r1, [r3, #80]
 167:App/uart_thread.c **** 		break;
 902              		.loc 1 167 3 is_stmt 1 view .LVU221
 903              	.L47:
 904              		.loc 1 167 3 is_stmt 0 view .LVU222
 905              	.LBE43:
 168:App/uart_thread.c **** 	}
 169:App/uart_thread.c **** }
 906              		.loc 1 169 1 view .LVU223
 907              		@ sp needed
 908 0022 10BD     		pop	{r4, pc}
 909              	.L53:
 910              		.align	2
 911              	.L52:
 912 0024 00000000 		.word	__uart
 913              		.cfi_endproc
 914              	.LFE352:
 916              		.global	__aeabi_uidiv
ARM GAS  /tmp/cczgDh8z.s 			page 23


 917              		.section	.rodata.uart_thread_func.str1.4,"aMS",%progbits,1
 918              		.align	2
 919              	.LC29:
 920 0000 75617274 		.ascii	"uart_thread start\012\000"
 920      5F746872 
 920      65616420 
 920      73746172 
 920      740A00
 921 0013 00       		.align	2
 922              	.LC31:
 923 0014 6572726F 		.ascii	"error: rx_sw_buffer[%d] oversize, %lu > %lu\012\000"
 923      723A2072 
 923      785F7377 
 923      5F627566 
 923      6665725B 
 924              		.section	.text.uart_thread_func,"ax",%progbits
 925              		.align	1
 926              		.global	uart_thread_func
 927              		.syntax unified
 928              		.code	16
 929              		.thumb_func
 931              	uart_thread_func:
 932              	.LVL84:
 933              	.LFB353:
 170:App/uart_thread.c **** 
 171:App/uart_thread.c **** void uart_thread_func(void const * argument)
 172:App/uart_thread.c **** {
 934              		.loc 1 172 1 is_stmt 1 view -0
 935              		.cfi_startproc
 936              		@ args = 0, pretend = 0, frame = 0
 937              		@ frame_needed = 0, uses_anonymous_args = 0
 938              		.loc 1 172 1 is_stmt 0 view .LVU225
 939 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 940              	.LCFI16:
 941              		.cfi_def_cfa_offset 20
 942              		.cfi_offset 4, -20
 943              		.cfi_offset 5, -16
 944              		.cfi_offset 6, -12
 945              		.cfi_offset 7, -8
 946              		.cfi_offset 14, -4
 947 0002 CE46     		mov	lr, r9
 948 0004 4746     		mov	r7, r8
 949 0006 80B5     		push	{r7, lr}
 950              	.LCFI17:
 951              		.cfi_def_cfa_offset 28
 952              		.cfi_offset 8, -28
 953              		.cfi_offset 9, -24
 954 0008 83B0     		sub	sp, sp, #12
 955              	.LCFI18:
 956              		.cfi_def_cfa_offset 40
 173:App/uart_thread.c **** 	__uart[0].tx_list_mtx = uart1_mtxHandle;
 957              		.loc 1 173 2 is_stmt 1 view .LVU226
 958              		.loc 1 173 24 is_stmt 0 view .LVU227
 959 000a B54B     		ldr	r3, .L81
 960 000c B54A     		ldr	r2, .L81+4
 961 000e 1268     		ldr	r2, [r2]
 962 0010 5A63     		str	r2, [r3, #52]
ARM GAS  /tmp/cczgDh8z.s 			page 24


 174:App/uart_thread.c **** 	__uart[0].sem = uart1_send_semHandle;
 963              		.loc 1 174 2 is_stmt 1 view .LVU228
 964              		.loc 1 174 16 is_stmt 0 view .LVU229
 965 0012 B54A     		ldr	r2, .L81+8
 966 0014 1268     		ldr	r2, [r2]
 967 0016 5A64     		str	r2, [r3, #68]
 175:App/uart_thread.c **** 	__uart[1].p_uart = &huart2;
 968              		.loc 1 175 2 is_stmt 1 view .LVU230
 969              		.loc 1 175 19 is_stmt 0 view .LVU231
 970 0018 B44A     		ldr	r2, .L81+12
 971 001a 5A65     		str	r2, [r3, #84]
 176:App/uart_thread.c **** 	__uart[1].tx_list_mtx = uart2_mtxHandle;
 972              		.loc 1 176 2 is_stmt 1 view .LVU232
 973              		.loc 1 176 24 is_stmt 0 view .LVU233
 974 001c B44A     		ldr	r2, .L81+16
 975 001e 1168     		ldr	r1, [r2]
 976 0020 8822     		movs	r2, #136
 977 0022 9950     		str	r1, [r3, r2]
 177:App/uart_thread.c **** 	__uart[1].sem = uart2_send_semHandle;
 978              		.loc 1 177 2 is_stmt 1 view .LVU234
 979              		.loc 1 177 16 is_stmt 0 view .LVU235
 980 0024 B34A     		ldr	r2, .L81+20
 981 0026 1168     		ldr	r1, [r2]
 982 0028 9822     		movs	r2, #152
 983 002a 9950     		str	r1, [r3, r2]
 178:App/uart_thread.c **** 	__uart[2].p_uart = &huart3;
 984              		.loc 1 178 2 is_stmt 1 view .LVU236
 985              		.loc 1 178 19 is_stmt 0 view .LVU237
 986 002c 1032     		adds	r2, r2, #16
 987 002e B249     		ldr	r1, .L81+24
 988 0030 9950     		str	r1, [r3, r2]
 179:App/uart_thread.c **** 	__uart[2].tx_list_mtx = uart3_mtxHandle;
 989              		.loc 1 179 2 is_stmt 1 view .LVU238
 990              		.loc 1 179 24 is_stmt 0 view .LVU239
 991 0032 B24A     		ldr	r2, .L81+28
 992 0034 1168     		ldr	r1, [r2]
 993 0036 DC22     		movs	r2, #220
 994 0038 9950     		str	r1, [r3, r2]
 180:App/uart_thread.c **** 	__uart[2].sem = uart3_send_semHandle;
 995              		.loc 1 180 2 is_stmt 1 view .LVU240
 996              		.loc 1 180 16 is_stmt 0 view .LVU241
 997 003a B14A     		ldr	r2, .L81+32
 998 003c 1168     		ldr	r1, [r2]
 999 003e EC22     		movs	r2, #236
 1000 0040 9950     		str	r1, [r3, r2]
 181:App/uart_thread.c **** 	__uart[3].p_uart = &huart4;
 1001              		.loc 1 181 2 is_stmt 1 view .LVU242
 1002              		.loc 1 181 19 is_stmt 0 view .LVU243
 1003 0042 1032     		adds	r2, r2, #16
 1004 0044 AF49     		ldr	r1, .L81+36
 1005 0046 9950     		str	r1, [r3, r2]
 182:App/uart_thread.c **** 	__uart[3].tx_list_mtx = uart4_mtxHandle;
 1006              		.loc 1 182 2 is_stmt 1 view .LVU244
 1007              		.loc 1 182 24 is_stmt 0 view .LVU245
 1008 0048 AF4A     		ldr	r2, .L81+40
 1009 004a 1168     		ldr	r1, [r2]
 1010 004c 9822     		movs	r2, #152
ARM GAS  /tmp/cczgDh8z.s 			page 25


 1011 004e 5200     		lsls	r2, r2, #1
 1012 0050 9950     		str	r1, [r3, r2]
 183:App/uart_thread.c **** 	__uart[3].sem = uart4_send_semHandle;
 1013              		.loc 1 183 2 is_stmt 1 view .LVU246
 1014              		.loc 1 183 16 is_stmt 0 view .LVU247
 1015 0052 AE4A     		ldr	r2, .L81+44
 1016 0054 1168     		ldr	r1, [r2]
 1017 0056 A022     		movs	r2, #160
 1018 0058 5200     		lsls	r2, r2, #1
 1019 005a 9950     		str	r1, [r3, r2]
 184:App/uart_thread.c **** 
 185:App/uart_thread.c **** 	/* setup hw rx */
 186:App/uart_thread.c **** 	for (int i = 0; i < 4; i++) {
 1020              		.loc 1 186 2 is_stmt 1 view .LVU248
 1021              	.LBB44:
 1022              		.loc 1 186 7 view .LVU249
 1023              	.LVL85:
 1024              		.loc 1 186 11 is_stmt 0 view .LVU250
 1025 005c 0024     		movs	r4, #0
 1026              		.loc 1 186 2 view .LVU251
 1027 005e 09E0     		b	.L55
 1028              	.LVL86:
 1029              	.L77:
 187:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 188:App/uart_thread.c **** 			HAL_UART_Receive_IT(__uart[i].p_uart, __uart[i].rx_hw_buffer[0], 1);
 1030              		.loc 1 188 4 is_stmt 1 view .LVU252
 1031 0060 9F4A     		ldr	r2, .L81
 1032 0062 5333     		adds	r3, r3, #83
 1033 0064 6343     		muls	r3, r4
 1034 0066 D118     		adds	r1, r2, r3
 1035 0068 0969     		ldr	r1, [r1, #16]
 1036 006a 9858     		ldr	r0, [r3, r2]
 1037 006c 0122     		movs	r2, #1
 1038 006e FFF7FEFF 		bl	HAL_UART_Receive_IT
 1039              	.LVL87:
 1040              	.L57:
 186:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1041              		.loc 1 186 25 discriminator 2 view .LVU253
 186:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1042              		.loc 1 186 26 is_stmt 0 discriminator 2 view .LVU254
 1043 0072 0134     		adds	r4, r4, #1
 1044              	.LVL88:
 1045              	.L55:
 186:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1046              		.loc 1 186 18 is_stmt 1 discriminator 1 view .LVU255
 186:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1047              		.loc 1 186 2 is_stmt 0 discriminator 1 view .LVU256
 1048 0074 032C     		cmp	r4, #3
 1049 0076 24DC     		bgt	.L76
 187:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1050              		.loc 1 187 3 is_stmt 1 view .LVU257
 187:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1051              		.loc 1 187 16 is_stmt 0 view .LVU258
 1052 0078 5422     		movs	r2, #84
 1053 007a 6243     		muls	r2, r4
 1054 007c 984B     		ldr	r3, .L81
 1055 007e 9B18     		adds	r3, r3, r2
ARM GAS  /tmp/cczgDh8z.s 			page 26


 1056 0080 5B68     		ldr	r3, [r3, #4]
 187:App/uart_thread.c **** 		if (__uart[i].rx_hw_buffer_size == 1) {
 1057              		.loc 1 187 6 view .LVU259
 1058 0082 012B     		cmp	r3, #1
 1059 0084 ECD0     		beq	.L77
 189:App/uart_thread.c **** 		} else {
 190:App/uart_thread.c **** 			HAL_UART_ReceiverTimeout_Config(__uart[i].p_uart,
 1060              		.loc 1 190 4 is_stmt 1 view .LVU260
 1061 0086 964E     		ldr	r6, .L81
 1062 0088 5425     		movs	r5, #84
 1063 008a 6543     		muls	r5, r4
 1064 008c AF59     		ldr	r7, [r5, r6]
 1065 008e 3221     		movs	r1, #50
 1066 0090 7868     		ldr	r0, [r7, #4]
 1067 0092 FFF7FEFF 		bl	__aeabi_uidiv
 1068              	.LVL89:
 1069 0096 0100     		movs	r1, r0
 1070 0098 3800     		movs	r0, r7
 1071 009a FFF7FEFF 		bl	HAL_UART_ReceiverTimeout_Config
 1072              	.LVL90:
 191:App/uart_thread.c **** 											__uart[i].p_uart->Init.BaudRate / 50);  // 20ms
 192:App/uart_thread.c **** 			HAL_UART_EnableReceiverTimeout(__uart[i].p_uart);
 1073              		.loc 1 192 4 view .LVU261
 1074 009e A859     		ldr	r0, [r5, r6]
 1075 00a0 FFF7FEFF 		bl	HAL_UART_EnableReceiverTimeout
 1076              	.LVL91:
 193:App/uart_thread.c **** 			HAL_UART_Receive_DMA(__uart[i].p_uart,
 1077              		.loc 1 193 4 view .LVU262
 194:App/uart_thread.c **** 								__uart[i].rx_hw_buffer[__uart[i].rx_hw_buffer_idx],
 1078              		.loc 1 194 41 is_stmt 0 view .LVU263
 1079 00a4 7219     		adds	r2, r6, r5
 1080 00a6 9768     		ldr	r7, [r2, #8]
 193:App/uart_thread.c **** 			HAL_UART_Receive_DMA(__uart[i].p_uart,
 1081              		.loc 1 193 4 view .LVU264
 1082 00a8 9288     		ldrh	r2, [r2, #4]
 1083 00aa 6300     		lsls	r3, r4, #1
 1084 00ac 1B19     		adds	r3, r3, r4
 1085 00ae D900     		lsls	r1, r3, #3
 1086 00b0 CB1A     		subs	r3, r1, r3
 1087 00b2 DB19     		adds	r3, r3, r7
 1088 00b4 0433     		adds	r3, r3, #4
 1089 00b6 9B00     		lsls	r3, r3, #2
 1090 00b8 9959     		ldr	r1, [r3, r6]
 1091 00ba A859     		ldr	r0, [r5, r6]
 1092 00bc FFF7FEFF 		bl	HAL_UART_Receive_DMA
 1093              	.LVL92:
 1094 00c0 D7E7     		b	.L57
 1095              	.L76:
 1096              	.LBE44:
 1097              	.LBB45:
 195:App/uart_thread.c **** 								__uart[i].rx_hw_buffer_size);
 196:App/uart_thread.c **** 		}
 197:App/uart_thread.c **** 	}
 198:App/uart_thread.c **** 
 199:App/uart_thread.c **** 	
 200:App/uart_thread.c **** 	print_log("uart_thread start\n");
 1098              		.loc 1 200 2 is_stmt 1 view .LVU265
ARM GAS  /tmp/cczgDh8z.s 			page 27


 1099              		.loc 1 200 2 view .LVU266
 1100              		.loc 1 200 2 view .LVU267
 1101 00c2 0121     		movs	r1, #1
 1102 00c4 924D     		ldr	r5, .L81+48
 1103 00c6 4942     		rsbs	r1, r1, #0
 1104 00c8 2868     		ldr	r0, [r5]
 1105 00ca FFF7FEFF 		bl	osMutexWait
 1106              	.LVL93:
 1107              		.loc 1 200 2 view .LVU268
 1108 00ce 914E     		ldr	r6, .L81+52
 1109 00d0 1322     		movs	r2, #19
 1110 00d2 9149     		ldr	r1, .L81+56
 1111 00d4 3000     		movs	r0, r6
 1112 00d6 FFF7FEFF 		bl	memcpy
 1113              	.LVL94:
 1114              		.loc 1 200 2 view .LVU269
 1115 00da 1320     		movs	r0, #19
 1116 00dc FFF7FEFF 		bl	pvPortMalloc
 1117              	.LVL95:
 1118 00e0 0400     		movs	r4, r0
 1119              	.LVL96:
 1120              		.loc 1 200 2 view .LVU270
 1121 00e2 1222     		movs	r2, #18
 1122 00e4 3100     		movs	r1, r6
 1123 00e6 FFF7FEFF 		bl	memcpy
 1124              	.LVL97:
 1125              		.loc 1 200 2 view .LVU271
 1126 00ea 2868     		ldr	r0, [r5]
 1127 00ec FFF7FEFF 		bl	osMutexRelease
 1128              	.LVL98:
 1129              		.loc 1 200 2 view .LVU272
 1130 00f0 0023     		movs	r3, #0
 1131 00f2 E374     		strb	r3, [r4, #19]
 1132              		.loc 1 200 2 view .LVU273
 1133 00f4 1221     		movs	r1, #18
 1134 00f6 2000     		movs	r0, r4
 1135 00f8 FFF7FEFF 		bl	uart4_send
 1136              	.LVL99:
 1137              		.loc 1 200 2 view .LVU274
 1138 00fc 2000     		movs	r0, r4
 1139 00fe FFF7FEFF 		bl	vPortFree
 1140              	.LVL100:
 1141              	.LBE45:
 1142              		.loc 1 200 34 view .LVU275
 201:App/uart_thread.c **** 	int cnt = 0;
 1143              		.loc 1 201 2 view .LVU276
 1144              	.L74:
 202:App/uart_thread.c **** 	for (;;) {
 1145              		.loc 1 202 2 view .LVU277
 203:App/uart_thread.c **** 		ulTaskNotifyTake(pdTRUE, portMAX_DELAY);
 1146              		.loc 1 203 3 view .LVU278
 1147 0102 0121     		movs	r1, #1
 1148 0104 4942     		rsbs	r1, r1, #0
 1149 0106 0120     		movs	r0, #1
 1150 0108 FFF7FEFF 		bl	ulTaskNotifyTake
 1151              	.LVL101:
 204:App/uart_thread.c **** 
ARM GAS  /tmp/cczgDh8z.s 			page 28


 205:App/uart_thread.c **** 		HAL_GPIO_TogglePin(LED2_GPIO_Port, LED2_Pin);
 1152              		.loc 1 205 3 view .LVU279
 1153 010c 0121     		movs	r1, #1
 1154 010e 8348     		ldr	r0, .L81+60
 1155 0110 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 1156              	.LVL102:
 206:App/uart_thread.c **** 
 207:App/uart_thread.c **** 		/* get rx hw data */
 208:App/uart_thread.c **** 		for (int i = 0; i < 4; i++) {
 1157              		.loc 1 208 3 view .LVU280
 1158              	.LBB46:
 1159              		.loc 1 208 8 view .LVU281
 1160              		.loc 1 208 12 is_stmt 0 view .LVU282
 1161 0114 0024     		movs	r4, #0
 1162              		.loc 1 208 3 view .LVU283
 1163 0116 18E0     		b	.L59
 1164              	.LVL103:
 1165              	.L61:
 1166              	.LBB47:
 209:App/uart_thread.c **** 			if (__uart[i].rx_hw_buffer_len > 0) {
 210:App/uart_thread.c **** 				if (__uart[i].rx_hw_buffer_len > __uart[i].rx_sw_buffer_size) {
 211:App/uart_thread.c **** 					__uart[i].rx_hw_buffer_len = __uart[i].rx_sw_buffer_size;
 212:App/uart_thread.c **** 					print_log("error: rx_sw_buffer[%d] oversize, %lu > %lu\n",
 213:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1167              		.loc 1 213 67 is_stmt 1 view .LVU284
 214:App/uart_thread.c **** 				}
 215:App/uart_thread.c **** 				uint32_t data_buffer_index = (__uart[i].rx_hw_buffer_idx + 1) & 0x01;
 1168              		.loc 1 215 5 view .LVU285
 1169              		.loc 1 215 44 is_stmt 0 view .LVU286
 1170 0118 714E     		ldr	r6, .L81
 1171 011a 5425     		movs	r5, #84
 1172 011c 6543     		muls	r5, r4
 1173 011e 7519     		adds	r5, r6, r5
 1174              		.loc 1 215 62 view .LVU287
 1175 0120 AB68     		ldr	r3, [r5, #8]
 1176 0122 581C     		adds	r0, r3, #1
 1177              		.loc 1 215 14 view .LVU288
 1178 0124 0123     		movs	r3, #1
 1179 0126 1840     		ands	r0, r3
 1180              	.LVL104:
 216:App/uart_thread.c **** 				memcpy(__uart[i].rx_sw_buffer,
 1181              		.loc 1 216 5 is_stmt 1 view .LVU289
 217:App/uart_thread.c **** 					   __uart[i].rx_hw_buffer[data_buffer_index],
 1182              		.loc 1 217 31 is_stmt 0 view .LVU290
 1183 0128 6300     		lsls	r3, r4, #1
 1184 012a 1B19     		adds	r3, r3, r4
 1185 012c DA00     		lsls	r2, r3, #3
 1186 012e D31A     		subs	r3, r2, r3
 1187 0130 1B18     		adds	r3, r3, r0
 1188 0132 0433     		adds	r3, r3, #4
 1189 0134 9B00     		lsls	r3, r3, #2
 1190 0136 9959     		ldr	r1, [r3, r6]
 216:App/uart_thread.c **** 				memcpy(__uart[i].rx_sw_buffer,
 1191              		.loc 1 216 5 view .LVU291
 1192 0138 EA68     		ldr	r2, [r5, #12]
 1193 013a A86A     		ldr	r0, [r5, #40]
 1194              	.LVL105:
ARM GAS  /tmp/cczgDh8z.s 			page 29


 216:App/uart_thread.c **** 				memcpy(__uart[i].rx_sw_buffer,
 1195              		.loc 1 216 5 view .LVU292
 1196 013c FFF7FEFF 		bl	memcpy
 1197              	.LVL106:
 218:App/uart_thread.c **** 					   __uart[i].rx_hw_buffer_len);
 219:App/uart_thread.c **** 				__uart[i].rx_len = __uart[i].rx_hw_buffer_len;
 1198              		.loc 1 219 5 is_stmt 1 view .LVU293
 1199              		.loc 1 219 22 is_stmt 0 view .LVU294
 1200 0140 EB68     		ldr	r3, [r5, #12]
 1201 0142 EB62     		str	r3, [r5, #44]
 220:App/uart_thread.c **** 				__uart[i].rx_hw_buffer_len = 0;
 1202              		.loc 1 220 5 is_stmt 1 view .LVU295
 1203              		.loc 1 220 32 is_stmt 0 view .LVU296
 1204 0144 0023     		movs	r3, #0
 1205 0146 EB60     		str	r3, [r5, #12]
 1206              	.L60:
 1207              		.loc 1 220 32 view .LVU297
 1208              	.LBE47:
 208:App/uart_thread.c **** 			if (__uart[i].rx_hw_buffer_len > 0) {
 1209              		.loc 1 208 26 is_stmt 1 discriminator 2 view .LVU298
 208:App/uart_thread.c **** 			if (__uart[i].rx_hw_buffer_len > 0) {
 1210              		.loc 1 208 27 is_stmt 0 discriminator 2 view .LVU299
 1211 0148 0134     		adds	r4, r4, #1
 1212              	.LVL107:
 1213              	.L59:
 208:App/uart_thread.c **** 			if (__uart[i].rx_hw_buffer_len > 0) {
 1214              		.loc 1 208 19 is_stmt 1 discriminator 1 view .LVU300
 208:App/uart_thread.c **** 			if (__uart[i].rx_hw_buffer_len > 0) {
 1215              		.loc 1 208 3 is_stmt 0 discriminator 1 view .LVU301
 1216 014a 032C     		cmp	r4, #3
 1217 014c 3CDC     		bgt	.L78
 209:App/uart_thread.c **** 				if (__uart[i].rx_hw_buffer_len > __uart[i].rx_sw_buffer_size) {
 1218              		.loc 1 209 4 is_stmt 1 view .LVU302
 209:App/uart_thread.c **** 				if (__uart[i].rx_hw_buffer_len > __uart[i].rx_sw_buffer_size) {
 1219              		.loc 1 209 17 is_stmt 0 view .LVU303
 1220 014e 5422     		movs	r2, #84
 1221 0150 6243     		muls	r2, r4
 1222 0152 634B     		ldr	r3, .L81
 1223 0154 9B18     		adds	r3, r3, r2
 1224 0156 DB68     		ldr	r3, [r3, #12]
 209:App/uart_thread.c **** 				if (__uart[i].rx_hw_buffer_len > __uart[i].rx_sw_buffer_size) {
 1225              		.loc 1 209 7 view .LVU304
 1226 0158 002B     		cmp	r3, #0
 1227 015a F5D0     		beq	.L60
 1228              	.LBB49:
 210:App/uart_thread.c **** 					__uart[i].rx_hw_buffer_len = __uart[i].rx_sw_buffer_size;
 1229              		.loc 1 210 5 is_stmt 1 view .LVU305
 210:App/uart_thread.c **** 					__uart[i].rx_hw_buffer_len = __uart[i].rx_sw_buffer_size;
 1230              		.loc 1 210 47 is_stmt 0 view .LVU306
 1231 015c 1100     		movs	r1, r2
 1232 015e 604A     		ldr	r2, .L81
 1233 0160 5218     		adds	r2, r2, r1
 1234 0162 526A     		ldr	r2, [r2, #36]
 210:App/uart_thread.c **** 					__uart[i].rx_hw_buffer_len = __uart[i].rx_sw_buffer_size;
 1235              		.loc 1 210 8 view .LVU307
 1236 0164 9342     		cmp	r3, r2
 1237 0166 D7D9     		bls	.L61
ARM GAS  /tmp/cczgDh8z.s 			page 30


 211:App/uart_thread.c **** 					print_log("error: rx_sw_buffer[%d] oversize, %lu > %lu\n",
 1238              		.loc 1 211 6 is_stmt 1 view .LVU308
 211:App/uart_thread.c **** 					print_log("error: rx_sw_buffer[%d] oversize, %lu > %lu\n",
 1239              		.loc 1 211 33 is_stmt 0 view .LVU309
 1240 0168 5D4D     		ldr	r5, .L81
 1241 016a 6D18     		adds	r5, r5, r1
 1242 016c EA60     		str	r2, [r5, #12]
 1243              	.LBB48:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1244              		.loc 1 212 6 is_stmt 1 view .LVU310
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1245              		.loc 1 212 6 view .LVU311
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1246              		.loc 1 212 6 view .LVU312
 1247 016e 0121     		movs	r1, #1
 1248 0170 674B     		ldr	r3, .L81+48
 1249 0172 9846     		mov	r8, r3
 1250 0174 4942     		rsbs	r1, r1, #0
 1251 0176 1868     		ldr	r0, [r3]
 1252 0178 FFF7FEFF 		bl	osMutexWait
 1253              	.LVL108:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1254              		.loc 1 212 6 view .LVU313
 1255 017c 8021     		movs	r1, #128
 1256 017e 654B     		ldr	r3, .L81+52
 1257 0180 9946     		mov	r9, r3
 1258 0182 6B6A     		ldr	r3, [r5, #36]
 1259 0184 0193     		str	r3, [sp, #4]
 1260 0186 EB68     		ldr	r3, [r5, #12]
 1261 0188 0093     		str	r3, [sp]
 1262 018a 2300     		movs	r3, r4
 1263 018c 644A     		ldr	r2, .L81+64
 1264 018e C900     		lsls	r1, r1, #3
 1265 0190 4846     		mov	r0, r9
 1266 0192 FFF7FEFF 		bl	snprintf
 1267              	.LVL109:
 1268 0196 0600     		movs	r6, r0
 1269              	.LVL110:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1270              		.loc 1 212 6 view .LVU314
 1271 0198 471C     		adds	r7, r0, #1
 1272 019a 3800     		movs	r0, r7
 1273              	.LVL111:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1274              		.loc 1 212 6 is_stmt 0 view .LVU315
 1275 019c FFF7FEFF 		bl	pvPortMalloc
 1276              	.LVL112:
 1277 01a0 0500     		movs	r5, r0
 1278              	.LVL113:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1279              		.loc 1 212 6 is_stmt 1 view .LVU316
 1280 01a2 3200     		movs	r2, r6
 1281 01a4 4946     		mov	r1, r9
 1282 01a6 FFF7FEFF 		bl	memcpy
 1283              	.LVL114:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1284              		.loc 1 212 6 view .LVU317
ARM GAS  /tmp/cczgDh8z.s 			page 31


 1285 01aa 4346     		mov	r3, r8
 1286 01ac 1868     		ldr	r0, [r3]
 1287 01ae FFF7FEFF 		bl	osMutexRelease
 1288              	.LVL115:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1289              		.loc 1 212 6 view .LVU318
 1290 01b2 EF19     		adds	r7, r5, r7
 1291 01b4 0023     		movs	r3, #0
 1292 01b6 3B70     		strb	r3, [r7]
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1293              		.loc 1 212 6 view .LVU319
 1294 01b8 3100     		movs	r1, r6
 1295 01ba 2800     		movs	r0, r5
 1296 01bc FFF7FEFF 		bl	uart4_send
 1297              	.LVL116:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1298              		.loc 1 212 6 view .LVU320
 1299 01c0 2800     		movs	r0, r5
 1300 01c2 FFF7FEFF 		bl	vPortFree
 1301              	.LVL117:
 1302 01c6 A7E7     		b	.L61
 1303              	.LVL118:
 1304              	.L78:
 212:App/uart_thread.c **** 							i, __uart[i].rx_hw_buffer_len, __uart[i].rx_sw_buffer_size);
 1305              		.loc 1 212 6 is_stmt 0 view .LVU321
 1306              	.LBE48:
 1307              	.LBE49:
 1308              	.LBE46:
 1309              	.LBB50:
 221:App/uart_thread.c **** 			}
 222:App/uart_thread.c **** 		}
 223:App/uart_thread.c **** 
 224:App/uart_thread.c **** 		/* send data */
 225:App/uart_thread.c **** 		for (int i = 0; i < 4; i++) {
 1310              		.loc 1 225 12 view .LVU322
 1311 01c8 0024     		movs	r4, #0
 1312              	.LVL119:
 1313              		.loc 1 225 12 view .LVU323
 1314 01ca 11E0     		b	.L63
 1315              	.LVL120:
 1316              	.L75:
 1317              	.LBB51:
 226:App/uart_thread.c **** 			if (__uart[i].is_tx_busy == 0) {
 227:App/uart_thread.c **** 				// get data
 228:App/uart_thread.c **** 				struct SEND_DATA *send_data_item = NULL;
 1318              		.loc 1 228 23 view .LVU324
 1319 01cc 0025     		movs	r5, #0
 1320 01ce 2CE0     		b	.L65
 1321              	.LVL121:
 1322              	.L66:
 229:App/uart_thread.c **** 				osMutexWait(__uart[i].tx_list_mtx, osWaitForever);
 230:App/uart_thread.c **** 				if (!list_empty(&__uart[i].tx_list)) {
 231:App/uart_thread.c **** 					send_data_item = list_first_entry(&__uart[i].tx_list, struct SEND_DATA, node);
 232:App/uart_thread.c **** 					list_del(&send_data_item->node);
 233:App/uart_thread.c **** 				}
 234:App/uart_thread.c **** 				osMutexRelease(__uart[i].tx_list_mtx);
 235:App/uart_thread.c **** 
ARM GAS  /tmp/cczgDh8z.s 			page 32


 236:App/uart_thread.c **** 				if (send_data_item != NULL) {
 237:App/uart_thread.c **** 					__uart[i].is_tx_busy = 1;
 238:App/uart_thread.c **** 
 239:App/uart_thread.c **** 					// send
 240:App/uart_thread.c **** 					memcpy(__uart[i].tx_hw_buffer, send_data_item->data, send_data_item->size);
 241:App/uart_thread.c **** 					if (i == 0 || i == 1) {
 242:App/uart_thread.c **** 						HAL_UART_Transmit_DMA(__uart[i].p_uart, __uart[i].tx_hw_buffer, send_data_item->size);
 243:App/uart_thread.c **** 					} else {
 244:App/uart_thread.c **** 						HAL_UART_Transmit_IT(__uart[i].p_uart, __uart[i].tx_hw_buffer, send_data_item->size);
 1323              		.loc 1 244 7 is_stmt 1 view .LVU325
 1324              		.loc 1 244 55 is_stmt 0 view .LVU326
 1325 01d0 4348     		ldr	r0, .L81
 1326 01d2 5423     		movs	r3, #84
 1327 01d4 6343     		muls	r3, r4
 1328 01d6 C218     		adds	r2, r0, r3
 1329 01d8 D169     		ldr	r1, [r2, #28]
 1330              		.loc 1 244 7 view .LVU327
 1331 01da 2A89     		ldrh	r2, [r5, #8]
 1332 01dc 1858     		ldr	r0, [r3, r0]
 1333 01de FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1334              	.LVL122:
 1335              	.L67:
 245:App/uart_thread.c **** 					}
 246:App/uart_thread.c **** 
 247:App/uart_thread.c **** 					// free
 248:App/uart_thread.c **** 					vPortFree(send_data_item->data);
 1336              		.loc 1 248 6 is_stmt 1 view .LVU328
 1337 01e2 E868     		ldr	r0, [r5, #12]
 1338 01e4 FFF7FEFF 		bl	vPortFree
 1339              	.LVL123:
 249:App/uart_thread.c **** 					vPortFree(send_data_item);
 1340              		.loc 1 249 6 view .LVU329
 1341 01e8 2800     		movs	r0, r5
 1342 01ea FFF7FEFF 		bl	vPortFree
 1343              	.LVL124:
 1344              	.L64:
 1345              		.loc 1 249 6 is_stmt 0 view .LVU330
 1346              	.LBE51:
 225:App/uart_thread.c **** 			if (__uart[i].is_tx_busy == 0) {
 1347              		.loc 1 225 26 is_stmt 1 discriminator 2 view .LVU331
 225:App/uart_thread.c **** 			if (__uart[i].is_tx_busy == 0) {
 1348              		.loc 1 225 27 is_stmt 0 discriminator 2 view .LVU332
 1349 01ee 0134     		adds	r4, r4, #1
 1350              	.LVL125:
 1351              	.L63:
 225:App/uart_thread.c **** 			if (__uart[i].is_tx_busy == 0) {
 1352              		.loc 1 225 19 is_stmt 1 discriminator 1 view .LVU333
 225:App/uart_thread.c **** 			if (__uart[i].is_tx_busy == 0) {
 1353              		.loc 1 225 3 is_stmt 0 discriminator 1 view .LVU334
 1354 01f0 032C     		cmp	r4, #3
 1355 01f2 3ADC     		bgt	.L79
 226:App/uart_thread.c **** 				// get data
 1356              		.loc 1 226 4 is_stmt 1 view .LVU335
 226:App/uart_thread.c **** 				// get data
 1357              		.loc 1 226 17 is_stmt 0 view .LVU336
 1358 01f4 5422     		movs	r2, #84
 1359 01f6 6243     		muls	r2, r4
ARM GAS  /tmp/cczgDh8z.s 			page 33


 1360 01f8 394B     		ldr	r3, .L81
 1361 01fa 9B18     		adds	r3, r3, r2
 1362 01fc 1B6A     		ldr	r3, [r3, #32]
 226:App/uart_thread.c **** 				// get data
 1363              		.loc 1 226 7 view .LVU337
 1364 01fe 002B     		cmp	r3, #0
 1365 0200 F5D1     		bne	.L64
 1366              	.LBB60:
 228:App/uart_thread.c **** 				osMutexWait(__uart[i].tx_list_mtx, osWaitForever);
 1367              		.loc 1 228 5 is_stmt 1 view .LVU338
 1368              	.LVL126:
 229:App/uart_thread.c **** 				if (!list_empty(&__uart[i].tx_list)) {
 1369              		.loc 1 229 5 view .LVU339
 1370 0202 0121     		movs	r1, #1
 1371 0204 364F     		ldr	r7, .L81
 1372 0206 1500     		movs	r5, r2
 1373 0208 BE18     		adds	r6, r7, r2
 1374 020a 4942     		rsbs	r1, r1, #0
 1375 020c 706B     		ldr	r0, [r6, #52]
 1376 020e FFF7FEFF 		bl	osMutexWait
 1377              	.LVL127:
 230:App/uart_thread.c **** 					send_data_item = list_first_entry(&__uart[i].tx_list, struct SEND_DATA, node);
 1378              		.loc 1 230 5 view .LVU340
 230:App/uart_thread.c **** 					send_data_item = list_first_entry(&__uart[i].tx_list, struct SEND_DATA, node);
 1379              		.loc 1 230 21 is_stmt 0 view .LVU341
 1380 0212 2B00     		movs	r3, r5
 1381 0214 3833     		adds	r3, r3, #56
 1382 0216 DB19     		adds	r3, r3, r7
 1383              	.LVL128:
 1384              	.LBB52:
 1385              	.LBI52:
  90:App/Include/my_list.h **** }
  91:App/Include/my_list.h **** 
  92:App/Include/my_list.h **** static inline void list_del(struct list_head *entry)
  93:App/Include/my_list.h **** {
  94:App/Include/my_list.h ****     __list_del_entry(entry);
  95:App/Include/my_list.h ****     entry->next = entry;
  96:App/Include/my_list.h ****     entry->prev = entry;
  97:App/Include/my_list.h **** }
  98:App/Include/my_list.h **** 
  99:App/Include/my_list.h **** static inline int list_is_head(const struct list_head *list, const struct list_head *head)
 100:App/Include/my_list.h **** {
 101:App/Include/my_list.h ****     return list == head;
 102:App/Include/my_list.h **** }
 103:App/Include/my_list.h **** 
 104:App/Include/my_list.h **** static inline int list_empty(const struct list_head *head)
 1386              		.loc 2 104 19 is_stmt 1 view .LVU342
 1387              	.LBB53:
 105:App/Include/my_list.h **** {
 106:App/Include/my_list.h **** 	return head->next == head;
 1388              		.loc 2 106 2 view .LVU343
 1389              		.loc 2 106 13 is_stmt 0 view .LVU344
 1390 0218 B56B     		ldr	r5, [r6, #56]
 1391              	.LVL129:
 1392              		.loc 2 106 13 view .LVU345
 1393              	.LBE53:
 1394              	.LBE52:
ARM GAS  /tmp/cczgDh8z.s 			page 34


 230:App/uart_thread.c **** 					send_data_item = list_first_entry(&__uart[i].tx_list, struct SEND_DATA, node);
 1395              		.loc 1 230 8 view .LVU346
 1396 021a AB42     		cmp	r3, r5
 1397 021c D6D0     		beq	.L75
 231:App/uart_thread.c **** 					list_del(&send_data_item->node);
 1398              		.loc 1 231 6 is_stmt 1 view .LVU347
 1399              	.LBE60:
 1400              	.LBE50:
 231:App/uart_thread.c **** 					list_del(&send_data_item->node);
 1401              		.loc 1 231 23 view .LVU348
 1402              	.LVL130:
 231:App/uart_thread.c **** 					list_del(&send_data_item->node);
 1403              		.loc 1 231 23 view .LVU349
 1404              	.LBB62:
 1405              	.LBB61:
 232:App/uart_thread.c **** 				}
 1406              		.loc 1 232 6 view .LVU350
 1407              	.LBB54:
 1408              	.LBI54:
  92:App/Include/my_list.h **** {
 1409              		.loc 2 92 20 view .LVU351
 1410              	.LBB55:
  94:App/Include/my_list.h ****     entry->next = entry;
 1411              		.loc 2 94 5 view .LVU352
 1412              	.LBB56:
 1413              	.LBI56:
  57:App/Include/my_list.h **** {
 1414              		.loc 2 57 20 view .LVU353
 1415              	.LBB57:
  59:App/Include/my_list.h **** }
 1416              		.loc 2 59 5 view .LVU354
 1417 021e 6B68     		ldr	r3, [r5, #4]
 1418 0220 2A68     		ldr	r2, [r5]
 1419              	.LVL131:
 1420              	.LBB58:
 1421              	.LBI58:
  51:App/Include/my_list.h **** {
 1422              		.loc 2 51 20 view .LVU355
 1423              	.LBB59:
  53:App/Include/my_list.h ****     prev->next = next;
 1424              		.loc 2 53 5 view .LVU356
  53:App/Include/my_list.h ****     prev->next = next;
 1425              		.loc 2 53 16 is_stmt 0 view .LVU357
 1426 0222 5360     		str	r3, [r2, #4]
  54:App/Include/my_list.h **** }
 1427              		.loc 2 54 5 is_stmt 1 view .LVU358
  54:App/Include/my_list.h **** }
 1428              		.loc 2 54 16 is_stmt 0 view .LVU359
 1429 0224 1A60     		str	r2, [r3]
 1430              	.LVL132:
  54:App/Include/my_list.h **** }
 1431              		.loc 2 54 16 view .LVU360
 1432              	.LBE59:
 1433              	.LBE58:
 1434              	.LBE57:
 1435              	.LBE56:
  95:App/Include/my_list.h ****     entry->prev = entry;
ARM GAS  /tmp/cczgDh8z.s 			page 35


 1436              		.loc 2 95 5 is_stmt 1 view .LVU361
  95:App/Include/my_list.h ****     entry->prev = entry;
 1437              		.loc 2 95 17 is_stmt 0 view .LVU362
 1438 0226 2D60     		str	r5, [r5]
  96:App/Include/my_list.h **** }
 1439              		.loc 2 96 5 is_stmt 1 view .LVU363
  96:App/Include/my_list.h **** }
 1440              		.loc 2 96 17 is_stmt 0 view .LVU364
 1441 0228 6D60     		str	r5, [r5, #4]
 1442              	.LVL133:
 1443              	.L65:
  96:App/Include/my_list.h **** }
 1444              		.loc 2 96 17 view .LVU365
 1445              	.LBE55:
 1446              	.LBE54:
 234:App/uart_thread.c **** 
 1447              		.loc 1 234 5 is_stmt 1 view .LVU366
 1448 022a 5422     		movs	r2, #84
 1449 022c 6243     		muls	r2, r4
 1450 022e 2C4B     		ldr	r3, .L81
 1451 0230 9B18     		adds	r3, r3, r2
 1452 0232 586B     		ldr	r0, [r3, #52]
 1453 0234 FFF7FEFF 		bl	osMutexRelease
 1454              	.LVL134:
 236:App/uart_thread.c **** 					__uart[i].is_tx_busy = 1;
 1455              		.loc 1 236 5 view .LVU367
 236:App/uart_thread.c **** 					__uart[i].is_tx_busy = 1;
 1456              		.loc 1 236 8 is_stmt 0 view .LVU368
 1457 0238 002D     		cmp	r5, #0
 1458 023a D8D0     		beq	.L64
 237:App/uart_thread.c **** 
 1459              		.loc 1 237 6 is_stmt 1 view .LVU369
 237:App/uart_thread.c **** 
 1460              		.loc 1 237 27 is_stmt 0 view .LVU370
 1461 023c 5422     		movs	r2, #84
 1462 023e 6243     		muls	r2, r4
 1463 0240 274B     		ldr	r3, .L81
 1464 0242 9B18     		adds	r3, r3, r2
 1465 0244 0122     		movs	r2, #1
 1466 0246 1A62     		str	r2, [r3, #32]
 240:App/uart_thread.c **** 					if (i == 0 || i == 1) {
 1467              		.loc 1 240 6 is_stmt 1 view .LVU371
 240:App/uart_thread.c **** 					if (i == 0 || i == 1) {
 1468              		.loc 1 240 22 is_stmt 0 view .LVU372
 1469 0248 D869     		ldr	r0, [r3, #28]
 240:App/uart_thread.c **** 					if (i == 0 || i == 1) {
 1470              		.loc 1 240 6 view .LVU373
 1471 024a AA68     		ldr	r2, [r5, #8]
 1472 024c E968     		ldr	r1, [r5, #12]
 1473 024e FFF7FEFF 		bl	memcpy
 1474              	.LVL135:
 241:App/uart_thread.c **** 						HAL_UART_Transmit_DMA(__uart[i].p_uart, __uart[i].tx_hw_buffer, send_data_item->size);
 1475              		.loc 1 241 6 is_stmt 1 view .LVU374
 241:App/uart_thread.c **** 						HAL_UART_Transmit_DMA(__uart[i].p_uart, __uart[i].tx_hw_buffer, send_data_item->size);
 1476              		.loc 1 241 9 is_stmt 0 view .LVU375
 1477 0252 012C     		cmp	r4, #1
 1478 0254 BCD8     		bhi	.L66
ARM GAS  /tmp/cczgDh8z.s 			page 36


 242:App/uart_thread.c **** 					} else {
 1479              		.loc 1 242 7 is_stmt 1 view .LVU376
 242:App/uart_thread.c **** 					} else {
 1480              		.loc 1 242 56 is_stmt 0 view .LVU377
 1481 0256 2248     		ldr	r0, .L81
 1482 0258 5423     		movs	r3, #84
 1483 025a 6343     		muls	r3, r4
 1484 025c C218     		adds	r2, r0, r3
 1485 025e D169     		ldr	r1, [r2, #28]
 242:App/uart_thread.c **** 					} else {
 1486              		.loc 1 242 7 view .LVU378
 1487 0260 2A89     		ldrh	r2, [r5, #8]
 1488 0262 1858     		ldr	r0, [r3, r0]
 1489 0264 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 1490              	.LVL136:
 1491 0268 BBE7     		b	.L67
 1492              	.LVL137:
 1493              	.L79:
 242:App/uart_thread.c **** 					} else {
 1494              		.loc 1 242 7 view .LVU379
 1495              	.LBE61:
 1496              	.LBE62:
 1497              	.LBB63:
 250:App/uart_thread.c **** 				}
 251:App/uart_thread.c **** 			}
 252:App/uart_thread.c **** 		}
 253:App/uart_thread.c **** 
 254:App/uart_thread.c **** 		// handle received buffer
 255:App/uart_thread.c **** 		for (int i = 0; i < 4; i++) {
 1498              		.loc 1 255 12 view .LVU380
 1499 026a 0024     		movs	r4, #0
 1500              	.LVL138:
 1501              		.loc 1 255 12 view .LVU381
 1502 026c 18E0     		b	.L69
 1503              	.LVL139:
 1504              	.L80:
 256:App/uart_thread.c **** 			if (__uart[i].rx_len > 0) {
 257:App/uart_thread.c **** 				if (__uart[i].read_status != 0) {
 258:App/uart_thread.c **** 					*__uart[i].read_len = __uart[i].rx_len;
 1505              		.loc 1 258 6 is_stmt 1 view .LVU382
 1506              		.loc 1 258 16 is_stmt 0 view .LVU383
 1507 026e 1C4D     		ldr	r5, .L81
 1508 0270 AD18     		adds	r5, r5, r2
 1509 0272 EB6C     		ldr	r3, [r5, #76]
 1510              		.loc 1 258 26 view .LVU384
 1511 0274 1960     		str	r1, [r3]
 259:App/uart_thread.c **** 					memcpy(__uart[i].read_data, __uart[i].rx_sw_buffer, __uart[i].rx_len);
 1512              		.loc 1 259 6 is_stmt 1 view .LVU385
 1513 0276 0A00     		movs	r2, r1
 1514 0278 A96A     		ldr	r1, [r5, #40]
 1515 027a A86C     		ldr	r0, [r5, #72]
 1516 027c FFF7FEFF 		bl	memcpy
 1517              	.LVL140:
 260:App/uart_thread.c **** 					__uart[i].read_status = 0;
 1518              		.loc 1 260 6 view .LVU386
 1519              		.loc 1 260 28 is_stmt 0 view .LVU387
 1520 0280 0023     		movs	r3, #0
ARM GAS  /tmp/cczgDh8z.s 			page 37


 1521 0282 2B64     		str	r3, [r5, #64]
 261:App/uart_thread.c **** 					__uart[i].rx_len = 0;
 1522              		.loc 1 261 6 is_stmt 1 view .LVU388
 1523              		.loc 1 261 23 is_stmt 0 view .LVU389
 1524 0284 EB62     		str	r3, [r5, #44]
 262:App/uart_thread.c **** 
 263:App/uart_thread.c **** 					xSemaphoreGive(__uart[i].sem);
 1525              		.loc 1 263 6 is_stmt 1 view .LVU390
 1526 0286 686C     		ldr	r0, [r5, #68]
 1527 0288 0022     		movs	r2, #0
 1528 028a 0021     		movs	r1, #0
 1529 028c FFF7FEFF 		bl	xQueueGenericSend
 1530              	.LVL141:
 264:App/uart_thread.c **** 					
 265:App/uart_thread.c **** 					continue;
 1531              		.loc 1 265 6 view .LVU391
 1532 0290 05E0     		b	.L70
 1533              	.L72:
 266:App/uart_thread.c **** 				}
 267:App/uart_thread.c **** 				if (__uart[i].data_handler_func)
 268:App/uart_thread.c **** 					__uart[i].data_handler_func(__uart[i].rx_sw_buffer, __uart[i].rx_len);
 269:App/uart_thread.c **** 
 270:App/uart_thread.c **** 				__uart[i].rx_len = 0;
 1534              		.loc 1 270 5 view .LVU392
 1535              		.loc 1 270 22 is_stmt 0 view .LVU393
 1536 0292 5422     		movs	r2, #84
 1537 0294 6243     		muls	r2, r4
 1538 0296 124B     		ldr	r3, .L81
 1539 0298 9B18     		adds	r3, r3, r2
 1540 029a 0022     		movs	r2, #0
 1541 029c DA62     		str	r2, [r3, #44]
 1542              	.L70:
 255:App/uart_thread.c **** 			if (__uart[i].rx_len > 0) {
 1543              		.loc 1 255 26 is_stmt 1 discriminator 2 view .LVU394
 255:App/uart_thread.c **** 			if (__uart[i].rx_len > 0) {
 1544              		.loc 1 255 27 is_stmt 0 discriminator 2 view .LVU395
 1545 029e 0134     		adds	r4, r4, #1
 1546              	.LVL142:
 1547              	.L69:
 255:App/uart_thread.c **** 			if (__uart[i].rx_len > 0) {
 1548              		.loc 1 255 19 is_stmt 1 discriminator 1 view .LVU396
 255:App/uart_thread.c **** 			if (__uart[i].rx_len > 0) {
 1549              		.loc 1 255 3 is_stmt 0 discriminator 1 view .LVU397
 1550 02a0 032C     		cmp	r4, #3
 1551 02a2 00DD     		ble	.LCB1402
 1552 02a4 2DE7     		b	.L74	@long jump
 1553              	.LCB1402:
 256:App/uart_thread.c **** 				if (__uart[i].read_status != 0) {
 1554              		.loc 1 256 4 is_stmt 1 view .LVU398
 256:App/uart_thread.c **** 				if (__uart[i].read_status != 0) {
 1555              		.loc 1 256 17 is_stmt 0 view .LVU399
 1556 02a6 5422     		movs	r2, #84
 1557 02a8 6243     		muls	r2, r4
 1558 02aa 0D4B     		ldr	r3, .L81
 1559 02ac 9B18     		adds	r3, r3, r2
 1560 02ae D96A     		ldr	r1, [r3, #44]
 256:App/uart_thread.c **** 				if (__uart[i].read_status != 0) {
ARM GAS  /tmp/cczgDh8z.s 			page 38


 1561              		.loc 1 256 7 view .LVU400
 1562 02b0 0029     		cmp	r1, #0
 1563 02b2 F4D0     		beq	.L70
 257:App/uart_thread.c **** 					*__uart[i].read_len = __uart[i].rx_len;
 1564              		.loc 1 257 5 is_stmt 1 view .LVU401
 257:App/uart_thread.c **** 					*__uart[i].read_len = __uart[i].rx_len;
 1565              		.loc 1 257 18 is_stmt 0 view .LVU402
 1566 02b4 5422     		movs	r2, #84
 1567 02b6 6243     		muls	r2, r4
 1568 02b8 094B     		ldr	r3, .L81
 1569 02ba 9B18     		adds	r3, r3, r2
 1570 02bc 1B6C     		ldr	r3, [r3, #64]
 257:App/uart_thread.c **** 					*__uart[i].read_len = __uart[i].rx_len;
 1571              		.loc 1 257 8 view .LVU403
 1572 02be 002B     		cmp	r3, #0
 1573 02c0 D5D1     		bne	.L80
 267:App/uart_thread.c **** 					__uart[i].data_handler_func(__uart[i].rx_sw_buffer, __uart[i].rx_len);
 1574              		.loc 1 267 5 is_stmt 1 view .LVU404
 267:App/uart_thread.c **** 					__uart[i].data_handler_func(__uart[i].rx_sw_buffer, __uart[i].rx_len);
 1575              		.loc 1 267 18 is_stmt 0 view .LVU405
 1576 02c2 5422     		movs	r2, #84
 1577 02c4 6243     		muls	r2, r4
 1578 02c6 064B     		ldr	r3, .L81
 1579 02c8 9B18     		adds	r3, r3, r2
 1580 02ca 1D6D     		ldr	r5, [r3, #80]
 267:App/uart_thread.c **** 					__uart[i].data_handler_func(__uart[i].rx_sw_buffer, __uart[i].rx_len);
 1581              		.loc 1 267 8 view .LVU406
 1582 02cc 002D     		cmp	r5, #0
 1583 02ce E0D0     		beq	.L72
 268:App/uart_thread.c **** 
 1584              		.loc 1 268 6 is_stmt 1 view .LVU407
 1585 02d0 5422     		movs	r2, #84
 1586 02d2 6243     		muls	r2, r4
 1587 02d4 024B     		ldr	r3, .L81
 1588 02d6 9B18     		adds	r3, r3, r2
 1589 02d8 986A     		ldr	r0, [r3, #40]
 1590 02da A847     		blx	r5
 1591              	.LVL143:
 1592 02dc D9E7     		b	.L72
 1593              	.L82:
 1594 02de C046     		.align	2
 1595              	.L81:
 1596 02e0 00000000 		.word	__uart
 1597 02e4 00000000 		.word	uart1_mtxHandle
 1598 02e8 00000000 		.word	uart1_send_semHandle
 1599 02ec 00000000 		.word	huart2
 1600 02f0 00000000 		.word	uart2_mtxHandle
 1601 02f4 00000000 		.word	uart2_send_semHandle
 1602 02f8 00000000 		.word	huart3
 1603 02fc 00000000 		.word	uart3_mtxHandle
 1604 0300 00000000 		.word	uart3_send_semHandle
 1605 0304 00000000 		.word	huart4
 1606 0308 00000000 		.word	uart4_mtxHandle
 1607 030c 00000000 		.word	uart4_send_semHandle
 1608 0310 00000000 		.word	debug_mtxHandle
 1609 0314 00000000 		.word	debug_buffer
 1610 0318 00000000 		.word	.LC29
ARM GAS  /tmp/cczgDh8z.s 			page 39


 1611 031c 00140050 		.word	1342182400
 1612 0320 14000000 		.word	.LC31
 1613              	.LBE63:
 1614              		.cfi_endproc
 1615              	.LFE353:
 1617              		.section	.text.HAL_UART_ErrorCallback,"ax",%progbits
 1618              		.align	1
 1619              		.global	HAL_UART_ErrorCallback
 1620              		.syntax unified
 1621              		.code	16
 1622              		.thumb_func
 1624              	HAL_UART_ErrorCallback:
 1625              	.LVL144:
 1626              	.LFB354:
 271:App/uart_thread.c **** 			}
 272:App/uart_thread.c **** 		}
 273:App/uart_thread.c **** 
 274:App/uart_thread.c **** 	}
 275:App/uart_thread.c **** }
 276:App/uart_thread.c **** 
 277:App/uart_thread.c **** 
 278:App/uart_thread.c **** void HAL_UART_ErrorCallback(UART_HandleTypeDef *huart)
 279:App/uart_thread.c **** {
 1627              		.loc 1 279 1 view -0
 1628              		.cfi_startproc
 1629              		@ args = 0, pretend = 0, frame = 8
 1630              		@ frame_needed = 0, uses_anonymous_args = 0
 1631              		.loc 1 279 1 is_stmt 0 view .LVU409
 1632 0000 30B5     		push	{r4, r5, lr}
 1633              	.LCFI19:
 1634              		.cfi_def_cfa_offset 12
 1635              		.cfi_offset 4, -12
 1636              		.cfi_offset 5, -8
 1637              		.cfi_offset 14, -4
 1638 0002 83B0     		sub	sp, sp, #12
 1639              	.LCFI20:
 1640              		.cfi_def_cfa_offset 24
 280:App/uart_thread.c **** 	BaseType_t pxHigherPriorityTaskWoken = pdFALSE;
 1641              		.loc 1 280 2 is_stmt 1 view .LVU410
 1642              		.loc 1 280 13 is_stmt 0 view .LVU411
 1643 0004 0023     		movs	r3, #0
 1644 0006 0193     		str	r3, [sp, #4]
 281:App/uart_thread.c **** 	uint16_t len = 0;
 1645              		.loc 1 281 2 is_stmt 1 view .LVU412
 1646              	.LVL145:
 282:App/uart_thread.c **** 	struct UART_BUFFER *uart = NULL;
 1647              		.loc 1 282 2 view .LVU413
 283:App/uart_thread.c **** 
 284:App/uart_thread.c **** 	if (huart == &huart1) {
 1648              		.loc 1 284 2 view .LVU414
 1649              		.loc 1 284 5 is_stmt 0 view .LVU415
 1650 0008 1C4B     		ldr	r3, .L94
 1651 000a 9842     		cmp	r0, r3
 1652 000c 04D0     		beq	.L89
 285:App/uart_thread.c **** 		uart = &__uart[0];
 286:App/uart_thread.c **** 	} else if (huart == &huart2) {
 1653              		.loc 1 286 9 is_stmt 1 view .LVU416
ARM GAS  /tmp/cczgDh8z.s 			page 40


 1654              		.loc 1 286 12 is_stmt 0 view .LVU417
 1655 000e 1C4B     		ldr	r3, .L94+4
 1656 0010 9842     		cmp	r0, r3
 1657 0012 03D0     		beq	.L92
 1658              	.LVL146:
 1659              	.L83:
 287:App/uart_thread.c **** 		uart = &__uart[1];
 288:App/uart_thread.c **** 	} else {
 289:App/uart_thread.c **** 		return;
 290:App/uart_thread.c **** 	}
 291:App/uart_thread.c **** 
 292:App/uart_thread.c **** 	if (HAL_IS_BIT_SET(huart->Instance->CR3, USART_CR3_DMAR)) {
 293:App/uart_thread.c **** 		if((huart->ErrorCode & HAL_UART_ERROR_RTO) == HAL_UART_ERROR_RTO) {
 294:App/uart_thread.c **** 			uint16_t dma_remaining_rx_data = (uint16_t)__HAL_DMA_GET_COUNTER(huart->hdmarx);
 295:App/uart_thread.c **** 			len = uart->rx_hw_buffer_size - dma_remaining_rx_data;
 296:App/uart_thread.c **** 		}
 297:App/uart_thread.c **** 		uart->rx_hw_buffer_idx = (uart->rx_hw_buffer_idx + 1) & 0x1;
 298:App/uart_thread.c **** 		HAL_UART_Receive_DMA(huart,
 299:App/uart_thread.c **** 							 uart->rx_hw_buffer[uart->rx_hw_buffer_idx],
 300:App/uart_thread.c **** 							 uart->rx_hw_buffer_size);
 301:App/uart_thread.c **** 		if (len > 0) {
 302:App/uart_thread.c **** 			uart->rx_hw_buffer_len = len;
 303:App/uart_thread.c **** 			vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 304:App/uart_thread.c **** 		}
 305:App/uart_thread.c **** 	}
 306:App/uart_thread.c **** 
 307:App/uart_thread.c **** 	portYIELD_FROM_ISR(pxHigherPriorityTaskWoken);
 308:App/uart_thread.c **** }
 1660              		.loc 1 308 1 view .LVU418
 1661 0014 03B0     		add	sp, sp, #12
 1662              		@ sp needed
 1663 0016 30BD     		pop	{r4, r5, pc}
 1664              	.LVL147:
 1665              	.L89:
 285:App/uart_thread.c **** 		uart = &__uart[0];
 1666              		.loc 1 285 8 view .LVU419
 1667 0018 1A4C     		ldr	r4, .L94+8
 1668 001a 00E0     		b	.L84
 1669              	.L92:
 287:App/uart_thread.c **** 		uart = &__uart[1];
 1670              		.loc 1 287 8 view .LVU420
 1671 001c 1A4C     		ldr	r4, .L94+12
 1672              	.L84:
 1673              	.LVL148:
 292:App/uart_thread.c **** 		if((huart->ErrorCode & HAL_UART_ERROR_RTO) == HAL_UART_ERROR_RTO) {
 1674              		.loc 1 292 2 is_stmt 1 view .LVU421
 292:App/uart_thread.c **** 		if((huart->ErrorCode & HAL_UART_ERROR_RTO) == HAL_UART_ERROR_RTO) {
 1675              		.loc 1 292 6 is_stmt 0 view .LVU422
 1676 001e 0368     		ldr	r3, [r0]
 1677 0020 9B68     		ldr	r3, [r3, #8]
 292:App/uart_thread.c **** 		if((huart->ErrorCode & HAL_UART_ERROR_RTO) == HAL_UART_ERROR_RTO) {
 1678              		.loc 1 292 5 view .LVU423
 1679 0022 5B06     		lsls	r3, r3, #25
 1680 0024 1AD5     		bpl	.L86
 293:App/uart_thread.c **** 			uint16_t dma_remaining_rx_data = (uint16_t)__HAL_DMA_GET_COUNTER(huart->hdmarx);
 1681              		.loc 1 293 3 is_stmt 1 view .LVU424
 293:App/uart_thread.c **** 			uint16_t dma_remaining_rx_data = (uint16_t)__HAL_DMA_GET_COUNTER(huart->hdmarx);
ARM GAS  /tmp/cczgDh8z.s 			page 41


 1682              		.loc 1 293 12 is_stmt 0 view .LVU425
 1683 0026 9023     		movs	r3, #144
 1684 0028 C358     		ldr	r3, [r0, r3]
 293:App/uart_thread.c **** 			uint16_t dma_remaining_rx_data = (uint16_t)__HAL_DMA_GET_COUNTER(huart->hdmarx);
 1685              		.loc 1 293 5 view .LVU426
 1686 002a 9B06     		lsls	r3, r3, #26
 1687 002c 08D5     		bpl	.L91
 1688              	.LBB64:
 294:App/uart_thread.c **** 			len = uart->rx_hw_buffer_size - dma_remaining_rx_data;
 1689              		.loc 1 294 4 is_stmt 1 view .LVU427
 294:App/uart_thread.c **** 			len = uart->rx_hw_buffer_size - dma_remaining_rx_data;
 1690              		.loc 1 294 47 is_stmt 0 view .LVU428
 1691 002e 8023     		movs	r3, #128
 1692 0030 C358     		ldr	r3, [r0, r3]
 1693 0032 1B68     		ldr	r3, [r3]
 1694 0034 5B68     		ldr	r3, [r3, #4]
 294:App/uart_thread.c **** 			len = uart->rx_hw_buffer_size - dma_remaining_rx_data;
 1695              		.loc 1 294 13 view .LVU429
 1696 0036 9BB2     		uxth	r3, r3
 1697              	.LVL149:
 295:App/uart_thread.c **** 		}
 1698              		.loc 1 295 4 is_stmt 1 view .LVU430
 295:App/uart_thread.c **** 		}
 1699              		.loc 1 295 34 is_stmt 0 view .LVU431
 1700 0038 A588     		ldrh	r5, [r4, #4]
 295:App/uart_thread.c **** 		}
 1701              		.loc 1 295 8 view .LVU432
 1702 003a ED1A     		subs	r5, r5, r3
 1703 003c ADB2     		uxth	r5, r5
 1704              	.LVL150:
 295:App/uart_thread.c **** 		}
 1705              		.loc 1 295 8 view .LVU433
 1706 003e 00E0     		b	.L87
 1707              	.LVL151:
 1708              	.L91:
 295:App/uart_thread.c **** 		}
 1709              		.loc 1 295 8 view .LVU434
 1710              	.LBE64:
 281:App/uart_thread.c **** 	struct UART_BUFFER *uart = NULL;
 1711              		.loc 1 281 11 view .LVU435
 1712 0040 0025     		movs	r5, #0
 1713              	.LVL152:
 1714              	.L87:
 297:App/uart_thread.c **** 		HAL_UART_Receive_DMA(huart,
 1715              		.loc 1 297 3 is_stmt 1 view .LVU436
 297:App/uart_thread.c **** 		HAL_UART_Receive_DMA(huart,
 1716              		.loc 1 297 52 is_stmt 0 view .LVU437
 1717 0042 A368     		ldr	r3, [r4, #8]
 1718 0044 5A1C     		adds	r2, r3, #1
 297:App/uart_thread.c **** 		HAL_UART_Receive_DMA(huart,
 1719              		.loc 1 297 57 view .LVU438
 1720 0046 0123     		movs	r3, #1
 1721 0048 1340     		ands	r3, r2
 297:App/uart_thread.c **** 		HAL_UART_Receive_DMA(huart,
 1722              		.loc 1 297 26 view .LVU439
 1723 004a A360     		str	r3, [r4, #8]
 298:App/uart_thread.c **** 							 uart->rx_hw_buffer[uart->rx_hw_buffer_idx],
ARM GAS  /tmp/cczgDh8z.s 			page 42


 1724              		.loc 1 298 3 is_stmt 1 view .LVU440
 1725 004c A288     		ldrh	r2, [r4, #4]
 1726 004e 0433     		adds	r3, r3, #4
 1727 0050 9B00     		lsls	r3, r3, #2
 1728 0052 1959     		ldr	r1, [r3, r4]
 1729 0054 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 1730              	.LVL153:
 301:App/uart_thread.c **** 			uart->rx_hw_buffer_len = len;
 1731              		.loc 1 301 3 view .LVU441
 301:App/uart_thread.c **** 			uart->rx_hw_buffer_len = len;
 1732              		.loc 1 301 6 is_stmt 0 view .LVU442
 1733 0058 002D     		cmp	r5, #0
 1734 005a 07D1     		bne	.L93
 1735              	.LVL154:
 1736              	.L86:
 307:App/uart_thread.c **** }
 1737              		.loc 1 307 2 is_stmt 1 view .LVU443
 1738 005c 019B     		ldr	r3, [sp, #4]
 1739 005e 002B     		cmp	r3, #0
 1740 0060 D8D0     		beq	.L83
 307:App/uart_thread.c **** }
 1741              		.loc 1 307 2 discriminator 1 view .LVU444
 1742 0062 0A4B     		ldr	r3, .L94+16
 1743 0064 8022     		movs	r2, #128
 1744 0066 5205     		lsls	r2, r2, #21
 1745 0068 1A60     		str	r2, [r3]
 1746 006a D3E7     		b	.L83
 1747              	.LVL155:
 1748              	.L93:
 302:App/uart_thread.c **** 			vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 1749              		.loc 1 302 4 view .LVU445
 302:App/uart_thread.c **** 			vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 1750              		.loc 1 302 27 is_stmt 0 view .LVU446
 1751 006c E560     		str	r5, [r4, #12]
 303:App/uart_thread.c **** 		}
 1752              		.loc 1 303 4 is_stmt 1 view .LVU447
 1753 006e 084B     		ldr	r3, .L94+20
 1754 0070 1868     		ldr	r0, [r3]
 1755 0072 01A9     		add	r1, sp, #4
 1756 0074 FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 1757              	.LVL156:
 1758 0078 F0E7     		b	.L86
 1759              	.L95:
 1760 007a C046     		.align	2
 1761              	.L94:
 1762 007c 00000000 		.word	huart1
 1763 0080 00000000 		.word	huart2
 1764 0084 00000000 		.word	__uart
 1765 0088 54000000 		.word	__uart+84
 1766 008c 04ED00E0 		.word	-536810236
 1767 0090 00000000 		.word	uart_threadHandle
 1768              		.cfi_endproc
 1769              	.LFE354:
 1771              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 1772              		.align	1
 1773              		.global	HAL_UART_TxCpltCallback
 1774              		.syntax unified
ARM GAS  /tmp/cczgDh8z.s 			page 43


 1775              		.code	16
 1776              		.thumb_func
 1778              	HAL_UART_TxCpltCallback:
 1779              	.LVL157:
 1780              	.LFB355:
 309:App/uart_thread.c **** 
 310:App/uart_thread.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart)
 311:App/uart_thread.c **** {
 1781              		.loc 1 311 1 view -0
 1782              		.cfi_startproc
 1783              		@ args = 0, pretend = 0, frame = 8
 1784              		@ frame_needed = 0, uses_anonymous_args = 0
 1785              		.loc 1 311 1 is_stmt 0 view .LVU449
 1786 0000 00B5     		push	{lr}
 1787              	.LCFI21:
 1788              		.cfi_def_cfa_offset 4
 1789              		.cfi_offset 14, -4
 1790 0002 83B0     		sub	sp, sp, #12
 1791              	.LCFI22:
 1792              		.cfi_def_cfa_offset 16
 312:App/uart_thread.c **** 	BaseType_t pxHigherPriorityTaskWoken = pdFALSE;
 1793              		.loc 1 312 2 is_stmt 1 view .LVU450
 1794              		.loc 1 312 13 is_stmt 0 view .LVU451
 1795 0004 0023     		movs	r3, #0
 1796 0006 0193     		str	r3, [sp, #4]
 313:App/uart_thread.c **** 	struct UART_BUFFER *uart = NULL;
 1797              		.loc 1 313 2 is_stmt 1 view .LVU452
 1798              	.LVL158:
 314:App/uart_thread.c **** 
 315:App/uart_thread.c **** 	if (huart == &huart1) {
 1799              		.loc 1 315 2 view .LVU453
 1800              		.loc 1 315 5 is_stmt 0 view .LVU454
 1801 0008 144B     		ldr	r3, .L105
 1802 000a 9842     		cmp	r0, r3
 1803 000c 0AD0     		beq	.L101
 316:App/uart_thread.c **** 		uart = &__uart[0];
 317:App/uart_thread.c **** 	} else if (huart == &huart2) {
 1804              		.loc 1 317 9 is_stmt 1 view .LVU455
 1805              		.loc 1 317 12 is_stmt 0 view .LVU456
 1806 000e 144B     		ldr	r3, .L105+4
 1807 0010 9842     		cmp	r0, r3
 1808 0012 10D0     		beq	.L102
 318:App/uart_thread.c **** 		uart = &__uart[1];
 319:App/uart_thread.c **** 	} else if (huart == &huart3) {
 1809              		.loc 1 319 9 is_stmt 1 view .LVU457
 1810              		.loc 1 319 12 is_stmt 0 view .LVU458
 1811 0014 134B     		ldr	r3, .L105+8
 1812 0016 9842     		cmp	r0, r3
 1813 0018 0FD0     		beq	.L103
 320:App/uart_thread.c **** 		uart = &__uart[2];
 321:App/uart_thread.c **** 	} else if (huart == &huart4) {
 1814              		.loc 1 321 9 is_stmt 1 view .LVU459
 1815              		.loc 1 321 12 is_stmt 0 view .LVU460
 1816 001a 134B     		ldr	r3, .L105+12
 1817 001c 9842     		cmp	r0, r3
 1818 001e 08D1     		bne	.L96
 322:App/uart_thread.c **** 		uart = &__uart[3];
ARM GAS  /tmp/cczgDh8z.s 			page 44


 1819              		.loc 1 322 8 view .LVU461
 1820 0020 124A     		ldr	r2, .L105+16
 1821 0022 00E0     		b	.L97
 1822              	.L101:
 316:App/uart_thread.c **** 	} else if (huart == &huart2) {
 1823              		.loc 1 316 8 view .LVU462
 1824 0024 124A     		ldr	r2, .L105+20
 1825              	.L97:
 1826              	.LVL159:
 323:App/uart_thread.c **** 	} else {
 324:App/uart_thread.c **** 		return;
 325:App/uart_thread.c **** 	}
 326:App/uart_thread.c **** 
 327:App/uart_thread.c **** 	if (huart == &huart1 || huart == &huart2) {
 1827              		.loc 1 327 2 is_stmt 1 view .LVU463
 1828              		.loc 1 327 5 is_stmt 0 view .LVU464
 1829 0026 0D4B     		ldr	r3, .L105
 1830 0028 9842     		cmp	r0, r3
 1831 002a 08D0     		beq	.L99
 1832              		.loc 1 327 23 discriminator 1 view .LVU465
 1833 002c 0C4B     		ldr	r3, .L105+4
 1834 002e 9842     		cmp	r0, r3
 1835 0030 05D0     		beq	.L99
 1836              	.LVL160:
 1837              	.L96:
 328:App/uart_thread.c **** 		uart->is_tx_busy = 0;
 329:App/uart_thread.c **** 
 330:App/uart_thread.c **** 		vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 331:App/uart_thread.c **** 		portYIELD_FROM_ISR(pxHigherPriorityTaskWoken);
 332:App/uart_thread.c **** 	}
 333:App/uart_thread.c **** }
 1838              		.loc 1 333 1 view .LVU466
 1839 0032 03B0     		add	sp, sp, #12
 1840              		@ sp needed
 1841 0034 00BD     		pop	{pc}
 1842              	.LVL161:
 1843              	.L102:
 318:App/uart_thread.c **** 	} else if (huart == &huart3) {
 1844              		.loc 1 318 8 view .LVU467
 1845 0036 0F4A     		ldr	r2, .L105+24
 1846 0038 F5E7     		b	.L97
 1847              	.L103:
 320:App/uart_thread.c **** 	} else if (huart == &huart4) {
 1848              		.loc 1 320 8 view .LVU468
 1849 003a 0F4A     		ldr	r2, .L105+28
 1850 003c F3E7     		b	.L97
 1851              	.LVL162:
 1852              	.L99:
 328:App/uart_thread.c **** 		uart->is_tx_busy = 0;
 1853              		.loc 1 328 3 is_stmt 1 view .LVU469
 328:App/uart_thread.c **** 		uart->is_tx_busy = 0;
 1854              		.loc 1 328 20 is_stmt 0 view .LVU470
 1855 003e 0023     		movs	r3, #0
 1856 0040 1362     		str	r3, [r2, #32]
 330:App/uart_thread.c **** 		portYIELD_FROM_ISR(pxHigherPriorityTaskWoken);
 1857              		.loc 1 330 3 is_stmt 1 view .LVU471
 1858 0042 0E4B     		ldr	r3, .L105+32
ARM GAS  /tmp/cczgDh8z.s 			page 45


 1859 0044 1868     		ldr	r0, [r3]
 1860              	.LVL163:
 330:App/uart_thread.c **** 		portYIELD_FROM_ISR(pxHigherPriorityTaskWoken);
 1861              		.loc 1 330 3 is_stmt 0 view .LVU472
 1862 0046 01A9     		add	r1, sp, #4
 1863 0048 FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 1864              	.LVL164:
 331:App/uart_thread.c **** 	}
 1865              		.loc 1 331 3 is_stmt 1 view .LVU473
 1866 004c 019B     		ldr	r3, [sp, #4]
 1867 004e 002B     		cmp	r3, #0
 1868 0050 EFD0     		beq	.L96
 331:App/uart_thread.c **** 	}
 1869              		.loc 1 331 3 discriminator 1 view .LVU474
 1870 0052 0B4B     		ldr	r3, .L105+36
 1871 0054 8022     		movs	r2, #128
 1872 0056 5205     		lsls	r2, r2, #21
 1873 0058 1A60     		str	r2, [r3]
 1874 005a EAE7     		b	.L96
 1875              	.L106:
 1876              		.align	2
 1877              	.L105:
 1878 005c 00000000 		.word	huart1
 1879 0060 00000000 		.word	huart2
 1880 0064 00000000 		.word	huart3
 1881 0068 00000000 		.word	huart4
 1882 006c FC000000 		.word	__uart+252
 1883 0070 00000000 		.word	__uart
 1884 0074 54000000 		.word	__uart+84
 1885 0078 A8000000 		.word	__uart+168
 1886 007c 00000000 		.word	uart_threadHandle
 1887 0080 04ED00E0 		.word	-536810236
 1888              		.cfi_endproc
 1889              	.LFE355:
 1891              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 1892              		.align	1
 1893              		.global	HAL_UART_RxCpltCallback
 1894              		.syntax unified
 1895              		.code	16
 1896              		.thumb_func
 1898              	HAL_UART_RxCpltCallback:
 1899              	.LVL165:
 1900              	.LFB356:
 334:App/uart_thread.c **** 
 335:App/uart_thread.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
 336:App/uart_thread.c **** {
 1901              		.loc 1 336 1 view -0
 1902              		.cfi_startproc
 1903              		@ args = 0, pretend = 0, frame = 8
 1904              		@ frame_needed = 0, uses_anonymous_args = 0
 1905              		.loc 1 336 1 is_stmt 0 view .LVU476
 1906 0000 10B5     		push	{r4, lr}
 1907              	.LCFI23:
 1908              		.cfi_def_cfa_offset 8
 1909              		.cfi_offset 4, -8
 1910              		.cfi_offset 14, -4
 1911 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/cczgDh8z.s 			page 46


 1912              	.LCFI24:
 1913              		.cfi_def_cfa_offset 16
 337:App/uart_thread.c **** 	BaseType_t pxHigherPriorityTaskWoken = pdFALSE;
 1914              		.loc 1 337 2 is_stmt 1 view .LVU477
 1915              		.loc 1 337 13 is_stmt 0 view .LVU478
 1916 0004 0023     		movs	r3, #0
 1917 0006 0193     		str	r3, [sp, #4]
 338:App/uart_thread.c **** 	struct UART_BUFFER *uart = NULL;
 1918              		.loc 1 338 2 is_stmt 1 view .LVU479
 1919              	.LVL166:
 339:App/uart_thread.c **** 
 340:App/uart_thread.c **** 	if (huart == &huart1) {
 1920              		.loc 1 340 2 view .LVU480
 1921              		.loc 1 340 5 is_stmt 0 view .LVU481
 1922 0008 1E4B     		ldr	r3, .L118
 1923 000a 9842     		cmp	r0, r3
 1924 000c 0AD0     		beq	.L113
 341:App/uart_thread.c **** 		uart = &__uart[0];
 342:App/uart_thread.c **** 	} else if (huart == &huart2) {
 1925              		.loc 1 342 9 is_stmt 1 view .LVU482
 1926              		.loc 1 342 12 is_stmt 0 view .LVU483
 1927 000e 1E4B     		ldr	r3, .L118+4
 1928 0010 9842     		cmp	r0, r3
 1929 0012 18D0     		beq	.L114
 343:App/uart_thread.c **** 		uart = &__uart[1];
 344:App/uart_thread.c **** 	} else if (huart == &huart3) {
 1930              		.loc 1 344 9 is_stmt 1 view .LVU484
 1931              		.loc 1 344 12 is_stmt 0 view .LVU485
 1932 0014 1D4B     		ldr	r3, .L118+8
 1933 0016 9842     		cmp	r0, r3
 1934 0018 17D0     		beq	.L115
 345:App/uart_thread.c **** 		uart = &__uart[2];
 346:App/uart_thread.c **** 	} else if (huart == &huart4) {
 1935              		.loc 1 346 9 is_stmt 1 view .LVU486
 1936              		.loc 1 346 12 is_stmt 0 view .LVU487
 1937 001a 1D4B     		ldr	r3, .L118+12
 1938 001c 9842     		cmp	r0, r3
 1939 001e 10D1     		bne	.L107
 347:App/uart_thread.c **** 		uart = &__uart[3];
 1940              		.loc 1 347 8 view .LVU488
 1941 0020 1C4C     		ldr	r4, .L118+16
 1942 0022 00E0     		b	.L108
 1943              	.L113:
 341:App/uart_thread.c **** 	} else if (huart == &huart2) {
 1944              		.loc 1 341 8 view .LVU489
 1945 0024 1C4C     		ldr	r4, .L118+20
 1946              	.L108:
 1947              	.LVL167:
 348:App/uart_thread.c **** 	} else {
 349:App/uart_thread.c **** 		return;
 350:App/uart_thread.c **** 	}
 351:App/uart_thread.c **** 
 352:App/uart_thread.c **** 	if (uart->rx_type == 0) {
 1948              		.loc 1 352 2 is_stmt 1 view .LVU490
 1949              		.loc 1 352 5 is_stmt 0 view .LVU491
 1950 0026 236B     		ldr	r3, [r4, #48]
 1951 0028 002B     		cmp	r3, #0
ARM GAS  /tmp/cczgDh8z.s 			page 47


 1952 002a 10D0     		beq	.L117
 353:App/uart_thread.c **** 		uart->rx_hw_buffer_idx = (uart->rx_hw_buffer_idx + 1) & 0x1;
 354:App/uart_thread.c **** 		HAL_UART_Receive_DMA(uart->p_uart,
 355:App/uart_thread.c **** 							 uart->rx_hw_buffer[uart->rx_hw_buffer_idx],
 356:App/uart_thread.c **** 							 uart->rx_hw_buffer_size);
 357:App/uart_thread.c **** 
 358:App/uart_thread.c **** 		uart->rx_hw_buffer_len = uart->rx_hw_buffer_size;
 359:App/uart_thread.c **** 		vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 360:App/uart_thread.c **** 
 361:App/uart_thread.c **** 		portYIELD_FROM_ISR(pxHigherPriorityTaskWoken);
 362:App/uart_thread.c **** 	} else {
 363:App/uart_thread.c **** 		if (uart->data_handler_func)
 1953              		.loc 1 363 3 is_stmt 1 view .LVU492
 1954              		.loc 1 363 11 is_stmt 0 view .LVU493
 1955 002c 236D     		ldr	r3, [r4, #80]
 1956              		.loc 1 363 6 view .LVU494
 1957 002e 002B     		cmp	r3, #0
 1958 0030 02D0     		beq	.L112
 364:App/uart_thread.c **** 			uart->data_handler_func(uart->rx_hw_buffer[0], 1);
 1959              		.loc 1 364 4 is_stmt 1 view .LVU495
 1960 0032 0121     		movs	r1, #1
 1961 0034 2069     		ldr	r0, [r4, #16]
 1962              	.LVL168:
 1963              		.loc 1 364 4 is_stmt 0 view .LVU496
 1964 0036 9847     		blx	r3
 1965              	.LVL169:
 1966              	.L112:
 365:App/uart_thread.c **** 		HAL_UART_Receive_IT(uart->p_uart, uart->rx_hw_buffer[0], 1);
 1967              		.loc 1 365 3 is_stmt 1 view .LVU497
 1968 0038 2169     		ldr	r1, [r4, #16]
 1969 003a 2068     		ldr	r0, [r4]
 1970 003c 0122     		movs	r2, #1
 1971 003e FFF7FEFF 		bl	HAL_UART_Receive_IT
 1972              	.LVL170:
 1973              	.L107:
 366:App/uart_thread.c **** 	}
 367:App/uart_thread.c **** }
 1974              		.loc 1 367 1 is_stmt 0 view .LVU498
 1975 0042 02B0     		add	sp, sp, #8
 1976              		@ sp needed
 1977 0044 10BD     		pop	{r4, pc}
 1978              	.LVL171:
 1979              	.L114:
 343:App/uart_thread.c **** 	} else if (huart == &huart3) {
 1980              		.loc 1 343 8 view .LVU499
 1981 0046 154C     		ldr	r4, .L118+24
 1982 0048 EDE7     		b	.L108
 1983              	.L115:
 345:App/uart_thread.c **** 	} else if (huart == &huart4) {
 1984              		.loc 1 345 8 view .LVU500
 1985 004a 154C     		ldr	r4, .L118+28
 1986 004c EBE7     		b	.L108
 1987              	.LVL172:
 1988              	.L117:
 353:App/uart_thread.c **** 		HAL_UART_Receive_DMA(uart->p_uart,
 1989              		.loc 1 353 3 is_stmt 1 view .LVU501
 353:App/uart_thread.c **** 		HAL_UART_Receive_DMA(uart->p_uart,
ARM GAS  /tmp/cczgDh8z.s 			page 48


 1990              		.loc 1 353 52 is_stmt 0 view .LVU502
 1991 004e A368     		ldr	r3, [r4, #8]
 1992 0050 5A1C     		adds	r2, r3, #1
 353:App/uart_thread.c **** 		HAL_UART_Receive_DMA(uart->p_uart,
 1993              		.loc 1 353 57 view .LVU503
 1994 0052 0123     		movs	r3, #1
 1995 0054 1340     		ands	r3, r2
 353:App/uart_thread.c **** 		HAL_UART_Receive_DMA(uart->p_uart,
 1996              		.loc 1 353 26 view .LVU504
 1997 0056 A360     		str	r3, [r4, #8]
 354:App/uart_thread.c **** 							 uart->rx_hw_buffer[uart->rx_hw_buffer_idx],
 1998              		.loc 1 354 3 is_stmt 1 view .LVU505
 1999 0058 A288     		ldrh	r2, [r4, #4]
 2000 005a 0433     		adds	r3, r3, #4
 2001 005c 9B00     		lsls	r3, r3, #2
 2002 005e 1959     		ldr	r1, [r3, r4]
 2003 0060 2068     		ldr	r0, [r4]
 2004              	.LVL173:
 354:App/uart_thread.c **** 							 uart->rx_hw_buffer[uart->rx_hw_buffer_idx],
 2005              		.loc 1 354 3 is_stmt 0 view .LVU506
 2006 0062 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 2007              	.LVL174:
 358:App/uart_thread.c **** 		vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 2008              		.loc 1 358 3 is_stmt 1 view .LVU507
 358:App/uart_thread.c **** 		vTaskNotifyGiveFromISR(uart_threadHandle, &pxHigherPriorityTaskWoken);
 2009              		.loc 1 358 26 is_stmt 0 view .LVU508
 2010 0066 6368     		ldr	r3, [r4, #4]
 2011 0068 E360     		str	r3, [r4, #12]
 359:App/uart_thread.c **** 
 2012              		.loc 1 359 3 is_stmt 1 view .LVU509
 2013 006a 0E4B     		ldr	r3, .L118+32
 2014 006c 1868     		ldr	r0, [r3]
 2015 006e 01A9     		add	r1, sp, #4
 2016 0070 FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 2017              	.LVL175:
 361:App/uart_thread.c **** 	} else {
 2018              		.loc 1 361 3 view .LVU510
 2019 0074 019B     		ldr	r3, [sp, #4]
 2020 0076 002B     		cmp	r3, #0
 2021 0078 E3D0     		beq	.L107
 361:App/uart_thread.c **** 	} else {
 2022              		.loc 1 361 3 discriminator 1 view .LVU511
 2023 007a 0B4B     		ldr	r3, .L118+36
 2024 007c 8022     		movs	r2, #128
 2025 007e 5205     		lsls	r2, r2, #21
 2026 0080 1A60     		str	r2, [r3]
 2027 0082 DEE7     		b	.L107
 2028              	.L119:
 2029              		.align	2
 2030              	.L118:
 2031 0084 00000000 		.word	huart1
 2032 0088 00000000 		.word	huart2
 2033 008c 00000000 		.word	huart3
 2034 0090 00000000 		.word	huart4
 2035 0094 FC000000 		.word	__uart+252
 2036 0098 00000000 		.word	__uart
 2037 009c 54000000 		.word	__uart+84
ARM GAS  /tmp/cczgDh8z.s 			page 49


 2038 00a0 A8000000 		.word	__uart+168
 2039 00a4 00000000 		.word	uart_threadHandle
 2040 00a8 04ED00E0 		.word	-536810236
 2041              		.cfi_endproc
 2042              	.LFE356:
 2044              		.section	.bss.__uart,"aw",%nobits
 2045              		.align	2
 2048              	__uart:
 2049 0000 00000000 		.space	336
 2049      00000000 
 2049      00000000 
 2049      00000000 
 2049      00000000 
 2050              		.text
 2051              	.Letext0:
 2052              		.file 3 "/home/yiyu/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 2053              		.file 4 "/home/yiyu/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 2054              		.file 5 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM0/portmacro.h"
 2055              		.file 6 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 2056              		.file 7 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 2057              		.file 8 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 2058              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 2059              		.file 10 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g071xx.h"
 2060              		.file 11 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 2061              		.file 12 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 2062              		.file 13 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_uart.h"
 2063              		.file 14 "Core/Inc/usart.h"
 2064              		.file 15 "App/Include/uart_thread.h"
 2065              		.file 16 "App/Include/debug.h"
 2066              		.file 17 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_ll_dma.h"
 2067              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/include/portable.h"
 2068              		.file 19 "/home/yiyu/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdio.h"
 2069              		.file 20 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_gpio.h"
 2070              		.file 21 "<built-in>"
ARM GAS  /tmp/cczgDh8z.s 			page 50


DEFINED SYMBOLS
                            *ABS*:0000000000000000 uart_thread.c
     /tmp/cczgDh8z.s:18     .text.__uart_send:0000000000000000 $t
     /tmp/cczgDh8z.s:23     .text.__uart_send:0000000000000000 __uart_send
     /tmp/cczgDh8z.s:155    .text.__uart_send:0000000000000060 $d
     /tmp/cczgDh8z.s:160    .text.__uart_send_and_read:0000000000000000 $t
     /tmp/cczgDh8z.s:165    .text.__uart_send_and_read:0000000000000000 __uart_send_and_read
     /tmp/cczgDh8z.s:215    .text.uart_thread_init:0000000000000000 $t
     /tmp/cczgDh8z.s:221    .text.uart_thread_init:0000000000000000 uart_thread_init
     /tmp/cczgDh8z.s:464    .text.uart_thread_init:00000000000000e4 $d
     /tmp/cczgDh8z.s:2048   .bss.__uart:0000000000000000 __uart
     /tmp/cczgDh8z.s:473    .text.uart1_send:0000000000000000 $t
     /tmp/cczgDh8z.s:479    .text.uart1_send:0000000000000000 uart1_send
     /tmp/cczgDh8z.s:508    .text.uart1_send:0000000000000010 $d
     /tmp/cczgDh8z.s:513    .text.uart2_send:0000000000000000 $t
     /tmp/cczgDh8z.s:519    .text.uart2_send:0000000000000000 uart2_send
     /tmp/cczgDh8z.s:548    .text.uart2_send:0000000000000010 $d
     /tmp/cczgDh8z.s:553    .text.uart3_send:0000000000000000 $t
     /tmp/cczgDh8z.s:559    .text.uart3_send:0000000000000000 uart3_send
     /tmp/cczgDh8z.s:588    .text.uart3_send:0000000000000010 $d
     /tmp/cczgDh8z.s:593    .text.uart4_send:0000000000000000 $t
     /tmp/cczgDh8z.s:599    .text.uart4_send:0000000000000000 uart4_send
     /tmp/cczgDh8z.s:628    .text.uart4_send:0000000000000010 $d
     /tmp/cczgDh8z.s:633    .text.uart1_send_and_read:0000000000000000 $t
     /tmp/cczgDh8z.s:639    .text.uart1_send_and_read:0000000000000000 uart1_send_and_read
     /tmp/cczgDh8z.s:681    .text.uart1_send_and_read:000000000000001c $d
     /tmp/cczgDh8z.s:686    .text.uart2_send_and_read:0000000000000000 $t
     /tmp/cczgDh8z.s:692    .text.uart2_send_and_read:0000000000000000 uart2_send_and_read
     /tmp/cczgDh8z.s:734    .text.uart2_send_and_read:000000000000001c $d
     /tmp/cczgDh8z.s:739    .text.uart3_send_and_read:0000000000000000 $t
     /tmp/cczgDh8z.s:745    .text.uart3_send_and_read:0000000000000000 uart3_send_and_read
     /tmp/cczgDh8z.s:787    .text.uart3_send_and_read:000000000000001c $d
     /tmp/cczgDh8z.s:792    .text.uart4_send_and_read:0000000000000000 $t
     /tmp/cczgDh8z.s:798    .text.uart4_send_and_read:0000000000000000 uart4_send_and_read
     /tmp/cczgDh8z.s:840    .text.uart4_send_and_read:000000000000001c $d
     /tmp/cczgDh8z.s:845    .text.register_data_handler:0000000000000000 $t
     /tmp/cczgDh8z.s:851    .text.register_data_handler:0000000000000000 register_data_handler
     /tmp/cczgDh8z.s:912    .text.register_data_handler:0000000000000024 $d
     /tmp/cczgDh8z.s:918    .rodata.uart_thread_func.str1.4:0000000000000000 $d
     /tmp/cczgDh8z.s:925    .text.uart_thread_func:0000000000000000 $t
     /tmp/cczgDh8z.s:931    .text.uart_thread_func:0000000000000000 uart_thread_func
     /tmp/cczgDh8z.s:1596   .text.uart_thread_func:00000000000002e0 $d
     /tmp/cczgDh8z.s:1618   .text.HAL_UART_ErrorCallback:0000000000000000 $t
     /tmp/cczgDh8z.s:1624   .text.HAL_UART_ErrorCallback:0000000000000000 HAL_UART_ErrorCallback
     /tmp/cczgDh8z.s:1762   .text.HAL_UART_ErrorCallback:000000000000007c $d
     /tmp/cczgDh8z.s:1772   .text.HAL_UART_TxCpltCallback:0000000000000000 $t
     /tmp/cczgDh8z.s:1778   .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
     /tmp/cczgDh8z.s:1878   .text.HAL_UART_TxCpltCallback:000000000000005c $d
     /tmp/cczgDh8z.s:1892   .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/cczgDh8z.s:1898   .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/cczgDh8z.s:2031   .text.HAL_UART_RxCpltCallback:0000000000000084 $d
     /tmp/cczgDh8z.s:2045   .bss.__uart:0000000000000000 $d

UNDEFINED SYMBOLS
pvPortMalloc
osMutexWait
osMutexRelease
ARM GAS  /tmp/cczgDh8z.s 			page 51


xTaskGenericNotify
vPortFree
uart_threadHandle
xQueueSemaphoreTake
memset
huart1
huart2
huart3
huart4
__aeabi_uidiv
HAL_UART_Receive_IT
HAL_UART_ReceiverTimeout_Config
HAL_UART_EnableReceiverTimeout
HAL_UART_Receive_DMA
memcpy
ulTaskNotifyTake
HAL_GPIO_TogglePin
snprintf
HAL_UART_Transmit_IT
HAL_UART_Transmit_DMA
xQueueGenericSend
uart1_mtxHandle
uart1_send_semHandle
uart2_mtxHandle
uart2_send_semHandle
uart3_mtxHandle
uart3_send_semHandle
uart4_mtxHandle
uart4_send_semHandle
debug_mtxHandle
debug_buffer
vTaskNotifyGiveFromISR
